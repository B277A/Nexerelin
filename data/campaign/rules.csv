id,trigger,conditions,script,text,options,notes
onNewGameCreationStart,BeginNewGameCreation,,"$isInIntro = true 0
$introPage = 1.0 0
FireBest ExerelinNGCIntroPage",,,
,,,,,,
ExerelinNGCIntroNextPage,NewGameOptionSelected,$option==exerelinNGCIntroNextPage,"$introPage++
FireBest ExerelinNGCIntroPage",,,
ExerelinNGCIntroPrevPage,NewGameOptionSelected,$option==exerelinNGCIntroPrevPage,"$introPage--
FireBest ExerelinNGCIntroPage",,,
#introPage needs to be a float,,,,,,
ExerelinNGCIntro1,ExerelinNGCIntroPage,"$introPage == 1.0
$isInIntro",,"Welcome to the Exerelin mod for Starsector!

Exerelin is essentially a 4X game set in a corner of the Starsector universe. Factions within the sector will wage war, create alliances and compete to control a greater share of the sector.

Exerelin is compatible with a large number of community made faction mods, which you can add for a more varied gameplay experience.",exerelinNGCIntroNextPage:Next,
ExerelinNGCIntro2,ExerelinNGCIntroPage,"$introPage == 2.0
$isInIntro",,"Your actions will gain/lose you influence with the factions in the Sector.

The higher your influence with a faction, the greater access to their support and technology you will have.

Although you can choose to go your own way, the more advanced features are only available while part of a faction.","exerelinNGCIntroNextPage:Next
exerelinNGCIntroPrevPage:Previous",
ExerelinNGCIntro3,ExerelinNGCIntroPage,"$introPage == 3.0
$isInIntro",,Have fun and please leave any feedback on the Starsector forums :),"exerelinNGCIntroEnd:Start playing
exerelinNGCIntroPrevPage:Previous",
ExerelinNGCIntroEnd,NewGameOptionSelected,$option==exerelinNGCIntroEnd,"$isInIntro = false
FireAll ExerelinNGCStep1",,,
,,,,,,
ExerelinNewGameChoicesDev,ExerelinNGCStep1,$global.isDevMode,,,100:exerelinNGCDevStart:>>(dev) quick start,
ExerelinNGCJoin,ExerelinNGCStep1,,FireAll ExerelinNGCListFactions,Which faction would you like to join?,,
ExerelinNGCFactionsMain,ExerelinNGCListFactions,,,,"exerelinNGCJoinHegemony:Hegemony
exerelinNGCJoinTriTachyon:Tri-Tachyon
exerelinNGCJoinSindrianDiktat:Sindrian Diktat
exerelinNGCJoinLuddicChurch:Luddic Church
exerelinNGCJoinPirate:Pirates",
ExerelinNGCModFactionsAN,ExerelinNGCListFactions,,,,exerelinNGCViewModFactionsAN:Mod factions (A-N),Should check if factions are actually there
ExerelinNGCViewModFactionsAN,NewGameOptionSelected,$option == exerelinNGCViewModFactionsAN,FireAll ExerelinNGCListFactionsAN,,,
ExerelinNGCListBlackrock,ExerelinNGCListFactionsAN,NGCDoesFactionExist blackrock_driveyards,,,exerelinNGCJoinBlackrock:Blackrock,
ExerelinNGCListDiableAvionics,ExerelinNGCListFactionsAN,NGCDoesFactionExist diableavionics,,,exerelinNGCJoinDiableAvionics:Diable Avionics,
ExerelinNGCListModFactionsANBack,ExerelinNGCListFactionsAN,,,,20:exerelinNGCIntroEnd:Back,
ExerelinNGCDevStart,NewGameOptionSelected,$option == exerelinNGCDevStart,"NGCSetPlayerFaction ""independent""
NGCAddShip ""tempest_Starting""
NGCAddCargo RESOURCES elite_crew 20
NGCAddCargo RESOURCES supplies 20
NGCAddCargo RESOURCES fuel 20
NGCAddCredits 1000000
NGCSetAptitude technology 10
NGCSetAptitude combat 10
NGCAddSkillPoints 200
NGCAddAptitudePoints 10
NGCSetStartingLocation Exerelin -2700 3250
NGCDone",,,
ExerelinNGCJoinHegemony,NewGameOptionSelected,$option == exerelinNGCJoinHegemony,"NGCSetPlayerFaction ""hegemony""
NGCAddShip ""lasher_Starting""
AddText ""Added Lasher-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
ExerelinNGCJoinSindrianDiktat,NewGameOptionSelected,$option == exerelinNGCJoinSindrianDiktat,"NGCSetPlayerFaction ""sindrian_diktat""
NGCAddShip ""brawler_Elite""
AddText ""Added Brawler-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
ExerelinNGCJoinTriTachyon,NewGameOptionSelected,$option == exerelinNGCJoinTriTachyon,"NGCSetPlayerFaction ""tritachyon""
NGCAddShip ""wolf_Starting""
AddText ""Added Wolf-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
ExerelinNGCJoinLuddicChurch,NewGameOptionSelected,$option == exerelinNGCJoinChurch,"NGCSetPlayerFaction ""luddic_church""
NGCAddShip ""vigilance_Starting""
AddText ""Added Vigilance-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
ExerelinNGCJoinPirate,NewGameOptionSelected,$option == exerelinNGCJoinPirate,"NGCSetPlayerFaction ""pirates""
NGCAddShip ""cerberus_Starting""
AddText ""Added Cerberus-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
ExerelinNGCJoinBlackrock,NewGameOptionSelected,$option == exerelinNGCJoinBlackrock,"NGCSetPlayerFaction ""blackrock_driveyards""
NGCAddShip ""brdy_silverfish_standard""
AddText ""Added Silverfish-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
ExerelinNGCJoinDiableAvionics,NewGameOptionSelected,$option == exerelinNGCJoinDiableAvionics,"NGCSetPlayerFaction ""diableavionics""
NGCAddShip ""diableavionics_vapor_standard""
AddText ""Added Vapor-class frigate"" textFriendColor
FireBest ExerelinNGCStep2",,,
,,,,,,
,,,,,,
ExerelinNGCFinalize,ExerelinNGCStep2,,"NGCAddCargo RESOURCES regular_crew 30
NGCAddCargo RESOURCES supplies 20
NGCAddCargo RESOURCES fuel 20
AddText ""Added 30 crew"" textFriendColor
AddText ""Added 20 supplies"" textFriendColor
AddText ""Added 20 fuel"" textFriendColor",,exerelinNGCDone:Continue,
ExerelinNGCDoneOptionDefault,NewGameOptionSelected,$option == exerelinNGCDone,"NGCAddCredits 10000
NGCAddAptitudePoints 2
NGCAddSkillPoints 6
AddText ""Added 2 aptitude points"" textFriendColor
AddText ""Added 6 skill points"" textFriendColor
AddText ""Added 10000 credits"" textFriendColor
NGCSetStartingLocation Exerelin 600 600
NGCDone",,,
,,,,,,
ExerelinMarketAddOptionSpecial,PopulateOptions,"$hasMarket
$menuState == main
!$faction.isNeutralFaction","SetShortcut exerelinMarketSpecial ""S"" true",,6:exerelinMarketSpecial:Special functions,
ExerelinMarketSpecialOptions,DialogOptionSelected,$option == exerelinMarketSpecial,FireAll ExerelinMarketSpecial,,,
ExerelinMarketLeaveOption,ExerelinMarketSpecial,,,,5:exerelinMarketSpecialBack:Back,
ExerelinMarketSpecialBack,DialogOptionSelected,$option == exerelinMarketSpecialBack,FireAll PopulateOptions,,,
,,,,,,
ExerelinMarketInvadeOption,ExerelinMarketSpecial,"$faction.id != $player.faction.id
HasMarines",SetEnabled exerelinInvasion true,,1:exerelinInvasion:Invade the planet/station,
ExerelinMarketInvadeOptionNoMarines,ExerelinMarketSpecial,"$faction.id != $player.faction.id
!HasMarines","SetTooltip exerelinInvasion ""You have no marines!""
SetEnabled exerelinInvasion false",,1:exerelinInvasion:Invade the planet/station,
ExerelinInvasionStart,DialogOptionSelected,$option == exerelinInvasion,PredictInvasionResults,Your intelligence officer runs a few quick simulations to predict the outcome of the attack.,"exerelinInvasionProceed:Proceed
exerelinInvasionHelp:Consult a help file
exerelinInvasionCancel:Cancel",
ExerelinInvasionHelp,DialogOptionSelected,$option == exerelinInvasionHelp,,"Base attacker strength = (marine strength + fleet DP/2) * 0.7 (average)
Base defender strength = (market size^3) * (stability + 0.25) * 0.75
Each Military Base and Regional Capital adds 25% to defender strength, Headquarters adds 40%.
Attacker strength varies by up to 1/7th in either direction.

If attacker roll exceeds defender strength, the market is captured.
Marine losses depend on both strength values, plus a random factor.","exerelinInvasionProceed:Proceed
exerelinInvasionHelp:Consult a help file
exerelinInvasionCancel:Cancel",
ExerelinInvasionProceed,DialogOptionSelected,"$option == exerelinInvasionProceed
$hasMarket ","Wait $global.exerelinInvasionWait 1 $global.exerelinInvasionRoundComplete $global.exerelinInvasionInterrupted $global.exerelinInvasionInProgress ""Invading...""
BroadcastPlayerWaitAction $global.exerelinInvasionWait HOSTILE 750 $exerelinRespondingToInvasion
MakePlayerImmediatelyAttackable
$player.invasionTarget = $id 1.01",,,
ExerelinInvasionCancel,DialogOptionSelected,"$option == exerelinInvasionCancel
$hasMarket","$menuState = main 0
FireAll PopulateOptions",You decide not to attack $entityName.,,
ExerelinInvasionLeave,DialogOptionSelected,"$option == exerelinInvasionLeave
$hasMarket",DismissDialog,You decide not to continue the invasion.,,
ExerelinInvasionDone,DialogOptionSelected,"$option == exerelinInvasionLeave
$hasMarket",DismissDialog,,,
ExerelinInvasionOpen,OpenInteractionDialog,"$hasMarket
$id == $player.invasionTarget","ShowDefaultVisual
FireBest ExerelinInitInvadeDialog",,,
ExerelinInvasionRoundComplete,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinInvasionRoundComplete score:100","ExecuteInvasionRound
FireBest ExerelinInvasionResults
AdjustRep $faction.id COMBAT_NORMAL",INVASION OUTCOME:,,
ExerelinInvasionResultsComplete,ExerelinInvasionResults,$exerelinInvasionSuccessful,"unset $player.invasionTarget
FireAll PopulateOptions",You've successfully captured $entityName!,,
ExerelinInvasionResultsIncomplete,ExerelinInvasionResults,!$exerelinInvasionSuccessful,unset $player.invasionTarget,You have not yet captured $entityName.,"exerelinInvasionStart:Attack again
exerelinInvasionLeave:Leave",
ExerelinInvasionInterupted,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinInvasionInterrupted","unset $global.exerelinInvasionInterrupted
unset $player.invasionTarget
$menuState = main 0
FireAll PopulateOptions",Your invasion was interrupted.,,
ExerelinInitInvasionInProgress,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinInvasionInProgress
!$global.exerelinInvasionInterrupted
!$global.exerelinInvasionRoundComplete",,You're currently invading $entityName.,,
ExerelinInitInvasionAbort,DialogOptionSelected,$option==exerelinAbort,"AbortWait $global.exerelinInvasionWait
unset $player.invasionTarget
$menuState = main 0
FireAll PopulateOptions",The invasion is cancelled.,,
ExerelinInvasionInterference_start,BeginFleetEncounter,"$exerelinRespondingToInvasion score:100
$global.exerelinInvasionInProgress","AbortWait $global.exerelinInvasionWait
MakeOtherFleetHostile true
MakeOtherFleetAggressive true
unset $ignorePlayerCommRequests
unset $player.invasionTarget
AdjustRep $faction.id COMBAT_NORMAL
BroadcastCancelPlayerAction 1500 $exerelinRespondingToInvasion",The appearance of a $faction $otherShipOrFleet disrupts your invasion preparations.,,
ExerelinInvasionInterference_cancelledAndRan,BeginFleetEncounter,$exerelinRespondingToInvasion score:100,"MakeOtherFleetHostile true
unset $ignorePlayerCommRequests
unset $player.invasionTarget
AdjustRep $faction.id COMBAT_NORMAL
BroadcastCancelPlayerAction 1500 $exerelinRespondingToInvasion","The $faction $otherShipOrFleet catches up with you, weapons hot.",,
ExerelinDialogInvadeInterference_open,OpenCommLink,$exerelinRespondingToInvasion score:100,$ignorePlayerCommRequests = true 1,"""You'll pay for trying to invade our territory!"" The comm link is cut before you can begin to respond.",continueCutComm:Continue,
