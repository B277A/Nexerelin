id,trigger,conditions,script,text,options,notes
# START NGC OPTIONS,,,,,,
ExerelinOnNewGameCreationStart,BeginNewGameCreation,!$doesFakeVariableExist score:999,"$isInIntro = true 0
$introPage = 1.0 0
FireBest ExerelinNGCIntroPage",,,override SS+ NGC
,,,,,,
ExerelinNGCIntroNextPage,NewGameOptionSelected,$option==exerelinNGCIntroNextPage,"$introPage++
FireBest ExerelinNGCIntroPage",,,
ExerelinNGCIntroPrevPage,NewGameOptionSelected,$option==exerelinNGCIntroPrevPage,"$introPage--
FireBest ExerelinNGCIntroPage",,,
#introPage needs to be a float,,,,,,
ExerelinNGCIntro1,ExerelinNGCIntroPage,"$introPage == 1.0
$isInIntro","SetShortcut exerelinNGCIntroNextPage RETURN
SetShortcut exerelinNGCIntroEnd ESCAPE","Welcome to the Nexerelin mod for Starsector!

Nexerelin is essentially a 4X game set in a corner of the Starsector universe. Factions within the sector will wage war, create alliances and compete to control a greater share of the sector.

Nexerelin is compatible with a large number of community made faction mods, which you can add for a more varied gameplay experience.","exerelinNGCIntroNextPage:Next
exerelinNGCIntroEnd:Skip",
ExerelinNGCIntro2,ExerelinNGCIntroPage,"$introPage == 2.0
$isInIntro","SetShortcut exerelinNGCIntroNextPage RETURN
SetShortcut exerelinNGCIntroEnd ESCAPE","Your actions will gain/lose you influence with the factions in the Sector. The higher your influence with a faction, the greater access to their support and technology you will have.

At the start of the game, you pick a faction to join. You are a representative of your chosen faction, and your actions in the Sector will reflect on them. 

You can move to another faction later, if you can earn their trust. You can also choose to go it alone and set up your own empire.","exerelinNGCIntroNextPage:Next
exerelinNGCIntroPrevPage:Previous
exerelinNGCIntroEnd:Skip",
ExerelinNGCIntro3,ExerelinNGCIntroPage,"$introPage == 3.0
$isInIntro",SetShortcut exerelinNGCIntroEnd RETURN,Have fun and please leave any feedback on the Starsector forums :),"exerelinNGCIntroEnd:Start playing
exerelinNGCIntroPrevPage:Previous",
ExerelinNGCIntroEnd,NewGameOptionSelected,$option==exerelinNGCIntroEnd,"$isInIntro = false
FireAll ExerelinNGCStep1",,,
,,,,,,
,,,,,,
ExerelinNewGameOptionsEnter,ExerelinNGCStep1,,"NGCGetExerelinDefaults
FireAll ExerelinNGCOptions",Configure the Exerelin cluster?,,"make sure this runs once per new game, so that Exerelin sector generation data is set up properly"
ExerelinNewGameOptionsBackToMain,NewGameOptionSelected,$option==exerelinNGCOptionsBack,FireAll ExerelinNGCOptions,,,
ExerelinNewGameOptionsPopulate,ExerelinNGCOptions,,SetShortcut exerelinNGCOptionsDone RETURN,,"exerelinNGCOptionsDone:Proceed
7:exerelinNGCSectorOptions:Sector generation
8:exerelinNGCFactionOptions:Faction settings
9:exerelinNGCOtherOptions:Other options",
ExerelinNGCListOptionEnableCorvusMode,ExerelinNGCOptions,!$corvusMode,"SetTooltip exerelinNGCEnableCorvusMode ""Sets whether to use the handcrafted core worlds (vanilla and from mods), or randomly generated systems""",,exerelinNGCEnableCorvusMode:Disable random core worlds,
ExerelinNGCListOptionDisableCorvusMode,ExerelinNGCOptions,$corvusMode,"SetTooltip exerelinNGCDisableCorvusMode ""Sets whether to use the handcrafted core worlds (vanilla and from mods), or randomly generated systems""",,exerelinNGCDisableCorvusMode:Enable random core worlds,
ExerelinNewGameSectorConfigNonCorvus,ExerelinNGCSectorOptions,!$corvusMode,Nex_NGCProcessSectorGenerationSliders create,,,
ExerelinNewGameSectorConfig,ExerelinNGCSectorOptions,,"SetTooltip exerelinNGCSetNumFactions ""Note: pirates and independents are always present, unless disabled in config""
SetShortcut exerelinNGCSectorOptionsBack ESCAPE",,9:exerelinNGCSectorOptionsBack:Back,
ExerelinNewGameSectorConfigBack,NewGameOptionSelected,$option==exerelinNGCSectorOptionsBack,"Nex_NGCProcessSectorGenerationSliders save
FireAll ExerelinNGCOptions",,,
,,,,,,
ExerelinNewGameFactionConfig,ExerelinNGCFactionOptions,,"SetEnabled exerelinNGCSetNumFactions true
SetShortcut exerelinNGCOptionsBack ESCAPE",,"exerelinNGCSetNumFactions:Set number of factions at start ($numStartFactions)
9:exerelinNGCOptionsBack:Back",
ExerelinNewGameFactionConfigCorvus,ExerelinNGCFactionOptions,$corvusMode,SetEnabled exerelinNGCSetNumFactions false,,,
,,,,,,
ExerelinNewGameChoicesDev,ExerelinNGCOptions,$global.isDevMode,,,"99:exerelinNGCDevStart:>> (dev) quick start
100:exerelinNGCDevStartFast:>> (dev) quick start no time pass",
,,,,,,
ExerelinNewGameOptionsDone,NewGameOptionSelected,$option==exerelinNGCOptionsDone,FireBest ExerelinNGCStep2,,,
,,,,,,
ExerelinNGCNumFactionsMenu,NewGameOptionSelected,$option==exerelinNGCSetNumFactions,SetShortcut exerelinNGCFactionOptions ESCAPE,,"exerelinNGCNumFactions2:Two
exerelinNGCNumFactions3:Three
exerelinNGCNumFactions5:Five
exerelinNGCNumFactions50%:50% of available factions
exerelinNGCNumFactions75%:75% of available factions
exerelinNGCNumFactionsAll:All available factions
exerelinNGCFactionOptions:Back",
ExerelinNGCNumFactions2,NewGameOptionSelected,$option==exerelinNGCNumFactions2,"NGCSetNumFactions 2 true
AddText ""Set number of starting factions to $numStartFactions"" textFriendColor
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCNumFactions3,NewGameOptionSelected,$option==exerelinNGCNumFactions3,"NGCSetNumFactions 3 true
AddText ""Set number of starting factions to $numStartFactions"" textFriendColor
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCNumFactions5,NewGameOptionSelected,$option==exerelinNGCNumFactions5,"NGCSetNumFactions 5 true
AddText ""Set number of starting factions to $numStartFactions"" textFriendColor
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCNumFactions50%,NewGameOptionSelected,$option==exerelinNGCNumFactions50%,"NGCSetNumFactions 0.5 false
AddText ""Set number of starting factions to $numStartFactions"" textFriendColor
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCNumFactions75%,NewGameOptionSelected,$option==exerelinNGCNumFactions75%,"NGCSetNumFactions 0.75 false
AddText ""Set number of starting factions to $numStartFactions"" textFriendColor
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCNumFactionsAll,NewGameOptionSelected,$option==exerelinNGCNumFactionsAll,"NGCSetNumFactions -1 true
AddText ""All available factions will spawn at start"" textFriendColor
FireAll ExerelinNGCFactionOptions",,,
,,,,,,
ExerelinNGCSectorOptionsMenu,NewGameOptionSelected,$option==exerelinNGCSectorOptions,FireAll ExerelinNGCSectorOptions,,,
ExerelinNGCFactionOptionsMenu,NewGameOptionSelected,$option==exerelinNGCFactionOptions,FireAll ExerelinNGCFactionOptions,,,
ExerelinNGCOtherOptionsMenu,NewGameOptionSelected,$option==exerelinNGCOtherOptions,FireAll ExerelinNGCOtherOptions,,,
,,,,,,
ExerelinNGCListOptionEnablePrismMarket,ExerelinNGCSectorOptions,!$prismMarketPresent,"SetTooltip exerelinNGCEnablePrismMarket ""A trade station in hyperspace. Includes a special vendor that sells all kinds of high-end ships for a price.""",,exerelinNGCEnablePrismMarket:Enable Prism Freeport,
ExerelinNGCListOptionDisablePrismMarket,ExerelinNGCSectorOptions,$prismMarketPresent,"SetTooltip exerelinNGCDisablePrismMarket ""A trade station in hyperspace. Includes a special vendor that sells all kinds of high-end ships for a price.""",,exerelinNGCDisablePrismMarket:Disable Prism Freeport,
ExerelinNGCEnablePrismMarketOption,ExerelinNGCSectorOptions,!$corvusMode,"SetEnabled exerelinNGCEnablePrismMarket true
SetEnabled exerelinNGCDisablePrismMarket true",,,
ExerelinNGCDisablePrismMarketOption,ExerelinNGCSectorOptions,"$corvusMode
NGCDoesFactionExist SCY","SetTooltip exerelinNGCEnablePrismMarket ""SCY will create its own Prism Freeport in Acheron""
SetTooltip exerelinNGCDisablePrismMarket ""SCY will create its own Prism Freeport in Acheron""
SetEnabled exerelinNGCEnablePrismMarket false
SetEnabled exerelinNGCDisablePrismMarket false",,,
,,,,,,
ExerelinNGCListOptionEnableRandomStartRelationships,ExerelinNGCFactionOptions,!$randomStartRelationships,,,exerelinNGCEnableRandomStartRelationships:Enable random faction relationships at start,
ExerelinNGCListOptionDisableRandomStartRelationships,ExerelinNGCFactionOptions,$randomStartRelationships,,,exerelinNGCDisableRandomStartRelationships:Disable random faction relationships at start,
ExerelinNGCListOptionEnableRespawnFactions,ExerelinNGCFactionOptions,!$respawnFactions,,,exerelinNGCEnableRespawnFactions:Enable faction respawning,
ExerelinNGCListOptionDisableRespawnFactions,ExerelinNGCFactionOptions,$respawnFactions,,,exerelinNGCDisableRespawnFactions:Disable faction respawning,
ExerelinNGCListOptionEnableRespawnAllFactions,ExerelinNGCFactionOptions,"$respawnFactions
$onlyRespawnStartingFactions",,,exerelinNGCEnableRespawnAllFactions:Enable respawning of factions not present at start,
ExerelinNGCListOptionDisableRespawnAllFactions,ExerelinNGCFactionOptions,"$respawnFactions
!$onlyRespawnStartingFactions",,,exerelinNGCDisableRespawnAllFactions:Disable respawning of factions not present at start,
ExerelinNGCListOptionEnableRandomStartShips,ExerelinNGCOtherOptions,!$randomStartShips,"SetTooltip exerelinNGCEnableRandomStartShips ""Randomize starting ships based on the selected fleet type and the ships available to the faction""",,exerelinNGCEnableRandomStartShips:Enable random starting ships,
ExerelinNGCListOptionDisableRandomStartShips,ExerelinNGCOtherOptions,$randomStartShips,"SetTooltip exerelinNGCDisableRandomStartShips ""Randomize starting ships based on the selected fleet type and the ships available to the faction""",,exerelinNGCDisableRandomStartShips:Disable random starting ships,
ExerelinNGCListOptionEnableEasyMode,ExerelinNGCOtherOptions,!$easyMode,"SetTooltip exerelinNGCEnableEasyMode ""- Reduces damage taken by 50%\n- Increases damage dealt by 50%\n- Increases sensor range by 500 units\n- Increases salvage by 50%\n- Reduces level of enemy officers by 50%""
SetTooltipHighlightColors exerelinNGCEnableEasyMode hColor hColor hColor hColor hColor
SetTooltipHighlights exerelinNGCEnableEasyMode ""50%"" ""50%"" ""500"" ""50%"" ""50%""",,exerelinNGCEnableEasyMode:Enable vanilla's Easy Mode,
ExerelinNGCListOptionDisableEasyMode,ExerelinNGCOtherOptions,$easyMode,"SetTooltip exerelinNGCDisableEasyMode ""- Reduces damage taken by 50%\n- Increases damage dealt by 50%\n- Increases sensor range by 500 units\n- Increases salvage by 50%\n- Reduces level of enemy officers by 50%""
SetTooltipHighlightColors exerelinNGCDisableEasyMode hColor hColor hColor hColor hColor
SetTooltipHighlights exerelinNGCDisableEasyMode ""50%"" ""50%"" ""500"" ""50%"" ""50%""",,exerelinNGCDisableEasyMode:Disable vanilla's Easy Mode,
ExerelinNGCListOptionEnableHardMode,ExerelinNGCOtherOptions,!$hardMode,"SetTooltip exerelinNGCEnableHardMode ""Hard mode: halved salary and insurance payments; other factions are more aggressive towards yours""",,exerelinNGCEnableHardMode:Enable Starfarer Mode,
ExerelinNGCListOptionDisableHardMode,ExerelinNGCOtherOptions,$hardMode,"SetTooltip exerelinNGCDisableHardMode ""Hard mode: halved salary and insurance payments; other factions are more aggressive towards yours""",,exerelinNGCDisableHardMode:Disable Starfarer Mode,
ExerelinNGCOtherOptionsBack,ExerelinNGCOtherOptions,,SetShortcut exerelinNGCOptionsBack ESCAPE,,10:exerelinNGCOptionsBack:Back,
,,,,,,
ExerelinNGCEnableCorvusMode,NewGameOptionSelected,$option==exerelinNGCEnableCorvusMode,"NGCSetCorvusMode true
FireAll ExerelinNGCOptions",,,
ExerelinNGCDisableCorvusMode,NewGameOptionSelected,$option==exerelinNGCDisableCorvusMode,"NGCSetCorvusMode false
FireAll ExerelinNGCOptions",,,
ExerelinNGCEnablePrismMarket,NewGameOptionSelected,$option==exerelinNGCEnablePrismMarket,"NGCSetPrismMarketEnabled true
FireAll ExerelinNGCSectorOptions",,,
ExerelinNGCDisablePrismMarket,NewGameOptionSelected,$option==exerelinNGCDisablePrismMarket,"NGCSetPrismMarketEnabled false
FireAll ExerelinNGCSectorOptions",,,
ExerelinNGCEnableRandomStartRelationships,NewGameOptionSelected,$option==exerelinNGCEnableRandomStartRelationships,"NGCSetRandomStartRelationships true
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCDisableRandomStartRelationships,NewGameOptionSelected,$option==exerelinNGCDisableRandomStartRelationships,"NGCSetRandomStartRelationships false
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCEnableRespawnFactions,NewGameOptionSelected,$option==exerelinNGCEnableRespawnFactions,"NGCSetRespawnFactions true
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCDisableRespawnFactions,NewGameOptionSelected,$option==exerelinNGCDisableRespawnFactions,"NGCSetRespawnFactions false
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCEnableRespawnAllFactions,NewGameOptionSelected,$option==exerelinNGCEnableRespawnAllFactions,"NGCSetRespawnAllFactions true
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCDisableRespawnAllFactions,NewGameOptionSelected,$option==exerelinNGCDisableRespawnAllFactions,"NGCSetRespawnAllFactions false
FireAll ExerelinNGCFactionOptions",,,
ExerelinNGCEnableRandomStartShips,NewGameOptionSelected,$option==exerelinNGCEnableRandomStartShips,"NGCSetRandomStartShips true
FireAll ExerelinNGCOtherOptions",,,
ExerelinNGCDisableRandomStartShips,NewGameOptionSelected,$option==exerelinNGCDisableRandomStartShips,"NGCSetRandomStartShips false
FireAll ExerelinNGCOtherOptions",,,
ExerelinNGCEnableEasyMode,NewGameOptionSelected,$option==exerelinNGCEnableEasyMode,"NGCSetEasyMode true
FireAll ExerelinNGCOtherOptions",,,
ExerelinNGCDisableEasyMode,NewGameOptionSelected,$option==exerelinNGCDisableEasyMode,"NGCSetEasyMode false
FireAll ExerelinNGCOtherOptions",,,
ExerelinNGCEnableHardMode,NewGameOptionSelected,$option==exerelinNGCEnableHardMode,"NGCSetHardMode true
FireAll ExerelinNGCOtherOptions",,,
ExerelinNGCDisableHardMode,NewGameOptionSelected,$option==exerelinNGCDisableHardMode,"NGCSetHardMode false
FireAll ExerelinNGCOtherOptions",,,
,,,,,,
nex_NGCFactionSelection,ExerelinNGCStep2,,Nex_NGCListFactions listGroups,Which faction would you like to join?,,
nex_NGCFactionsBackToGroups,NewGameOptionSelected,$option==nex_NGCFactionsBack,Nex_NGCListFactions listGroups,,,
,,,,,,
nex_NGCListFactions1,NewGameOptionSelected,$option==nex_NGCListFactions1,Nex_NGCListFactions listFactions 1,,,
nex_NGCListFactions2,NewGameOptionSelected,$option==nex_NGCListFactions2,Nex_NGCListFactions listFactions 2,,,
nex_NGCListFactions3,NewGameOptionSelected,$option==nex_NGCListFactions3,Nex_NGCListFactions listFactions 3,,,
nex_NGCListFactions4,NewGameOptionSelected,$option==nex_NGCListFactions4,Nex_NGCListFactions listFactions 4,,,
nex_NGCListFactions5,NewGameOptionSelected,$option==nex_NGCListFactions5,Nex_NGCListFactions listFactions 5,,,
nex_NGCListFactions6,NewGameOptionSelected,$option==nex_NGCListFactions6,Nex_NGCListFactions listFactions 6,,,
nex_NGCListFactions7,NewGameOptionSelected,$option==nex_NGCListFactions7,Nex_NGCListFactions listFactions 7,,,
,,,,,,
nex_NGCJoinFaction,NewGameOptionSelected,"Nex_OptionStartsWith ""nex_NGCJoinFaction_""","Nex_NGCSetFactionFromJoinOption
FireAll ExerelinNGCStep3",,,
,,,,,,
nex_NGCDevStart,NewGameOptionSelected,$option == nex_NGCDevStart,"NGCSetPlayerFaction ""player_npc""
NGCSetFreeStart false
NGCSetWithTimePass false
NGCAddShipAndComplement ""medusa_Starting""
NGCAddCredits 1000000
NGCAddCharacterPoints 100
NGCDone",,,
nex_NGCDevStartFast,NewGameOptionSelected,$option == nex_NGCDevStartFast,"NGCSetPlayerFaction ""player_npc""
NGCSetFreeStart false
NGCSetWithTimePass false
NGCAddShipAndComplement ""medusa_Starting""
NGCAddCredits 1000000
NGCAddCharacterPoints 100
NGCDone",,,
nex_NGCOwnFaction,NewGameOptionSelected,$option == nex_NGCJoinOwnFaction,"NGCSetPlayerFaction ""player_npc""
NGCSetFreeStart false
$factionGroup = 0
FireAll ExerelinNGCStep3",,,
nex_NGCFreeStart,NewGameOptionSelected,$option == nex_NGCFreeStart,"NGCSetPlayerFaction ""player_npc""
NGCSetFreeStart true
$factionGroup = 0
FireAll ExerelinNGCStep3",,,
,,,,,,
ExerelinNGCPickStartingShips,ExerelinNGCStep3,,"NGCSetStartingFleetTooltipsAndState
SetShortcut exerelinNGCFleetBack ESCAPE",Your starting fleet?,"1:exerelinNGCFleetSolo:Solo frigate
2:exerelinNGCFleetCombatSmall:Light combat patrol
3:exerelinNGCFleetTradeSmall:Small trade convoy
4:exerelinNGCFleetCarrierSmall:Escort carrier unit
5:exerelinNGCFleetCombatLarge:Upsized military unit
6:exerelinNGCFleetTradeLarge:Larger mercantile train
7:exerelinNGCFleetCarrierLarge:Medium carrier force
9:exerelinNGCFleetBack:Go back",
ExerelinNGCPickStartingShipsReroll,ExerelinNGCStep3,$randomStartShips,,,8:exerelinNGCFleetReroll:[Reroll random ships],
ExerelinNGCStartShipsSolo,NewGameOptionSelected,$option == exerelinNGCFleetSolo,"NGCAddStartingShipsByFleetType SOLO
FireBest ExerelinNGCStep4",,,
ExerelinNGCStartShipsCombatSmall,NewGameOptionSelected,$option == exerelinNGCFleetCombatSmall,"NGCAddStartingShipsByFleetType COMBAT_SMALL
FireBest ExerelinNGCStep4",,,
ExerelinNGCStartShipsTradeSmall,NewGameOptionSelected,$option == exerelinNGCFleetTradeSmall,"NGCAddStartingShipsByFleetType TRADE_SMALL
FireBest ExerelinNGCStep4",,,
ExerelinNGCStartShipsCarrierSmall,NewGameOptionSelected,$option == exerelinNGCFleetCarrierSmall,"NGCAddStartingShipsByFleetType CARRIER_SMALL
FireBest ExerelinNGCStep4",,,
ExerelinNGCStartShipsCombatLarge,NewGameOptionSelected,$option == exerelinNGCFleetCombatLarge,"NGCAddStartingShipsByFleetType COMBAT_LARGE
FireBest ExerelinNGCStep4",,,
ExerelinNGCStartShipsTradeLarge,NewGameOptionSelected,$option == exerelinNGCFleetTradeLarge,"NGCAddStartingShipsByFleetType TRADE_LARGE
FireBest ExerelinNGCStep4",,,
ExerelinNGCStartShipsCarrierLarge,NewGameOptionSelected,$option == exerelinNGCFleetCarrierLarge,"NGCAddStartingShipsByFleetType CARRIER_LARGE
FireBest ExerelinNGCStep4",,,
,,,,,,
ExerelinNGCStartShipsReroll,NewGameOptionSelected,$option == exerelinNGCFleetReroll,NGCSetStartingFleetTooltipsAndState,,,
ExerelinNGCStartShipsBack,NewGameOptionSelected,$option == exerelinNGCFleetBack,Nex_NGCListFactions listFactions $factionGroup,,,
,,,,,,
ExerelinNGCFinalize,ExerelinNGCStep4,,"AddText ""Starting experience and credits?""
SetShortcut exerelinNGCStartBack ESCAPE",,"exerelinNGCNormalStart:Ensign (20,000 credits, level 1)
exerelinNGCEasyStart:Lieutenant (75,000 credits, level 6, one officer)
exerelinNGCEasyStart2:Commander (250,000 credits, level 16, two officers)
exerelinNGCStartBack:Go back",
ExerelinNGCNormalStart,NewGameOptionSelected,$option == exerelinNGCNormalStart,"NGCAddCredits 20000
NGCAddCharacterPoints 3
NGCSetNumStartingOfficers 0
SetShortcut exerelinNGCDone RETURN",,1:exerelinNGCDone:Done,
ExerelinNGCEasyStart,NewGameOptionSelected,$option == exerelinNGCEasyStart,"NGCAddCredits 75000
NGCAddCharacterPoints 3
NGCAddXP 31500
NGCSetNumStartingOfficers 1
SetShortcut exerelinNGCDone RETURN",,1:exerelinNGCDone:Done,
ExerelinNGCEasyStart2,NewGameOptionSelected,$option == exerelinNGCEasyStart2,"NGCAddCredits 250000
NGCAddCharacterPoints 3
NGCAddXP 214500
NGCSetNumStartingOfficers 2
SetShortcut exerelinNGCDone RETURN",,1:exerelinNGCDone:Done,
ExerelinNGCStartBack,NewGameOptionSelected,$option == exerelinNGCStartBack,"NGCClearStartingGear
FireAll ExerelinNGCStep3",,,
ExerelinNGCDoneOption,NewGameOptionSelected,$option == exerelinNGCDone,NGCDone,,,
# END NGC OPTIONS,,,,,,
,,,,,,
,,,,,,
ExerelinMarketAddOptionSpecial,PopulateOptions,$menuState == main,"SetShortcut exerelinMarketSpecial ""S"" true",,6:exerelinMarketSpecial:Special functions,
ExerelinMarketSpecialOptions,DialogOptionSelected,$option == exerelinMarketSpecial,"$menuState = exerelinSpecial
FireAll ExerelinMarketSpecialInitialize
FireAll ExerelinMarketSpecial",,,
ExerelinMarketLeaveOption,ExerelinMarketSpecial,,SetShortcut exerelinMarketSpecialBack ESCAPE,,10:exerelinMarketSpecialBack:Back,
ExerelinMarketSpecialBack,DialogOptionSelected,$option == exerelinMarketSpecialBack,"ExerelinShowDefaultVisual
$menuState = main 0
FireAll PopulateOptions",,,
,,,,,,
# START INVASION OPTIONS,,,,,,
ExerelinMarketInvadeOption,ExerelinMarketSpecial,"IsValidInvasionTarget
",SetShortcut exerelinInvasion I,,1:exerelinInvasion:Invade the planet/station,
ExerelinInvasionStart,DialogOptionSelected,$option == exerelinInvasion,"$menuState = invasion 0
ShowVisual ""graphics/illustrations/quartermaster.jpg""
PredictInvasionResults false
Nex_PrepareResponseFleet false
FireAll ExerelinInvadeListOptions",Your intelligence officer runs a few quick simulations to predict the outcome of the attack.,,
ExerelinInvadeListOptionsMain,ExerelinInvadeListOptions,,SetShortcut exerelinInvasionCancel ESCAPE,,"1:exerelinInvasionProceed:Proceed
2:exerelinInvasionHelp:Consult a help file
4:exerelinInvasionCancel:Cancel",
ExerelinInvadeListOptionInvade,ExerelinInvadeListOptions,HasMarines 1,"SetEnabled exerelinInvasionProceed true
SetShortcut exerelinInvasionProceed RETURN",,,
ExerelinInvadeListOptionInvadeNoMarines,ExerelinInvadeListOptions,!HasMarines 1,"SetTooltip exerelinInvasionProceed ""You have no marines!""
SetEnabled exerelinInvasionProceed false",,,
ExerelinInvasionHelp,DialogOptionSelected,$option == exerelinInvasionHelp,FireAll ExerelinInvadeListOptions,"Base attacker strength = (marine strength + fleet DP/2) * 0.7
Base defender strength = 0.2 * (market size+1)^3 * (stability + 0.5) * 0.5
Each Military Base and Regional Capital adds 25% to defender strength, Headquarters adds 40%.
Attacker strength varies by up to 1/7th in either direction.

If attacker roll exceeds defender strength, the market is captured.
Marine losses depend on both strength values, plus a random factor.

Markets accumulate a reserve force over time that can be quickly deployed in response to invasions.",,
,,,,,,
ExerelinInvasionProceed,DialogOptionSelected,$option == exerelinInvasionProceed,"Wait $global.exerelinInvasionWait 1 $global.exerelinInvasionRoundComplete $global.exerelinInvasionInterrupted $global.exerelinInvasionInProgress ""Invading...""
Exerelin_NotifyInvasion $global.exerelinInvasionWait 750 false
MakePlayerImmediatelyAttackable
$player.invasionTarget = $id 1.01
CreateWarmongerEvent $faction.id
AdjustRep $faction.id COMBAT_NORMAL",,,
ExerelinInvasionCancel,DialogOptionSelected,$option == exerelinInvasionCancel,FireAll ExerelinMarketSpecial,,,
ExerelinInvasionDone,DialogOptionSelected,"$option == exerelinInvasionDone
$hasMarket",Exerelin_LootMarket false,,,
ExerelinInvasionLeave,DialogOptionSelected,$option == exerelinInvasionLeave,DismissDialog,,,
,,,,,,
ExerelinInvasionProceedDefenders,DialogOptionSelected,"$option == exerelinInvasionProceed
$market.hasDefenders","$global.nex_afterBattleMode = ""invasion"" 0
Nex_InvasionDefenseInteraction false","As your $shipOrFleet moves in closer, the response fleet scrambles from $market. The only way is through them.",,
ExerelinInvasionPostDefenders,BeatDefendersContinue,"$global.nex_afterBattleMode == ""invasion""","$menuState = invasion 0
ShowVisual ""graphics/illustrations/quartermaster.jpg""
SetPromptText ""You decide to...""
FireAll ExerelinInvadeListOptions",Your $shipOrFleet neutralizes the response fleet and is ready to invade $market.,exerelinMarketSpecial:Continue,
,,,,,,
,,,,,,
,,,,,,
ExerelinInvasionOpen,OpenInteractionDialog,"$hasMarket
$id == $player.invasionTarget","ExerelinShowDefaultVisual
FireBest ExerelinInitInvadeDialog",,,
ExerelinInvasionRoundComplete,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinInvasionRoundComplete score:100","ExecuteInvasionRound false
FireBest ExerelinInvasionResults",INVASION OUTCOME:,,
ExerelinInvasionResultsComplete,ExerelinInvasionResults,$exerelinInvasionSuccessful,"$menuState = invasion 0
ShowVisual ""graphics/illustrations/quartermaster.jpg""
unset $player.invasionTarget
SetShortcut exerelinInvasionDone RETURN",You've successfully captured $entityName!,exerelinInvasionDone:Collect your spoils and leave,
ExerelinInvasionResultsIncomplete,ExerelinInvasionResults,"!$exerelinInvasionSuccessful
HasMarines 1","$menuState = invasion 0
ShowVisual ""graphics/illustrations/hull_breach.jpg""
unset $player.invasionTarget
$tradeMode = NONE 0
SetShortcut exerelinInvasion RETURN
SetShortcut exerelinInvasionLeave ESCAPE",You have not yet captured $entityName.,"exerelinInvasion:Attack again
exerelinInvasionLeave:Leave",
ExerelinInvasionResultsIncompleteNoMoreMarines,ExerelinInvasionResults,"!$exerelinInvasionSuccessful
!HasMarines 1","$menuState = invasion 0
ShowVisual ""graphics/illustrations/hull_breach.jpg""
unset $player.invasionTarget
$tradeMode = NONE 0
SetShortcut exerelinInvasionLeave ESCAPE","You have not yet captured $entityName.

Your marine complement has been wiped out; you cannot continue the offensive.",exerelinInvasionLeave:Leave,
ExerelinInvasionResultsCancelled,ExerelinInvasionResults,$exerelinInvasionCancelled score:100,"$menuState = invasion 0
ExerelinShowDefaultVisual
unset $player.invasionTarget
FireAll PopulateOptions",This isn't a valid invasion target! Perhaps we already captured it?,,
ExerelinInvasionInterupted,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinInvasionInterrupted","unset $global.exerelinInvasionInterrupted
unset $player.invasionTarget
$menuState = main 0
FireBest MarketPostOpen",Your invasion was interrupted.,,
ExerelinInitInvasionInProgress,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinInvasionInProgress
!$global.exerelinInvasionInterrupted
!$global.exerelinInvasionRoundComplete",,You're currently invading $entityName.,,
ExerelinInitInvasionAbort,DialogOptionSelected,$option==exerelinAbort,"AbortWait $global.exerelinInvasionWait
unset $player.invasionTarget
$menuState = main 0
FireAll PopulateOptions",The invasion is cancelled.,,
ExerelinInvasionInterference_start,BeginFleetEncounter,"$exerelinRespondingToInvasion score:100
$global.exerelinInvasionInProgress score:20","AbortWait $global.exerelinInvasionWait
MakeOtherFleetHostile true
MakeOtherFleetAggressive true
unset $entity.ignorePlayerCommRequests
unset $player.invasionTarget
BroadcastCancelPlayerAction 1500 $exerelinRespondingToInvasion",The appearance of a $faction $otherShipOrFleet disrupts your invasion preparations.,,
ExerelinInvasionInterference_cancelledAndRan,BeginFleetEncounter,"$exerelinRespondingToInvasion score:100
$faction.hostileToPlayer","MakeOtherFleetHostile true
MakeOtherFleetAggressive true
unset $entity.ignorePlayerCommRequests
unset $player.invasionTarget
BroadcastCancelPlayerAction 1500 $exerelinRespondingToInvasion","The $faction $otherShipOrFleet catches up with you, weapons hot.",,
ExerelinDialogInvadeInterference_open,OpenCommLink,$exerelinRespondingToInvasion score:100,$entity.ignorePlayerCommRequests = true 0,"""You'll pay for trying to invade our territory!"" The comm link is cut before you can begin to respond.",continueCutComm:Continue,
# END INVASION OPTIONS,,,,,,
,,,,,,
# START RAID OPTIONS,,,,,,
ExerelinMarketRaidOption,ExerelinMarketSpecial,Nex_CanRaid,"SetShortcut exerelinRaid R
SetEnabled exerelinRaid true",,1:exerelinRaid:Raid and pillage the planet/station,
ExerelinMarketRaidOptionCooldown,ExerelinMarketSpecial,"Nex_CanRaid
$market.nex_recentlyRaided score:100","SetTooltip exerelinRaid ""You've recently raided this market and cannot do so again for $nex_raidCooldownStr days.""
SetEnabled exerelinRaid false",,,
ExerelinRaidStart,DialogOptionSelected,$option == exerelinRaid,"$menuState = raid 0
ShowVisual ""graphics/illustrations/pirate_station.jpg""
PredictInvasionResults true
Nex_PrepareResponseFleet true
FireAll ExerelinRaidListOptions",Your intelligence officer runs a few quick simulations to predict the outcome of the attack.,,
ExerelinRaidListOptionsMain,ExerelinRaidListOptions,,SetShortcut exerelinInvasionCancel ESCAPE,,"1:exerelinRaidProceed:Proceed
2:exerelinRaidHelp:Consult a help file
4:exerelinInvasionCancel:Cancel",
ExerelinRaidListOptionRaid,ExerelinRaidListOptions,HasMarines 1,"SetEnabled exerelinRaidProceed true
SetShortcut exerelinRaidProceed RETURN",,,
ExerelinRaidListOptionRaidNoMarines,ExerelinRaidListOptions,!HasMarines 1,"SetTooltip exerelinRaidProceed ""You have no marines!""
SetEnabled exerelinRaidProceed false",,,
ExerelinRaidListOptionRaidHostilesNearby,ExerelinRaidListOptions,HostileFleetNearbyAndAware,"SetTooltip exerelinRaidProceed ""A nearby hostile fleet is tracking your movements, making, a raid impossible.""
SetEnabled exerelinRaidProceed false","A nearby hostile fleet is tracking your movements, making a raid impossible.",,
ExerelinRaidHelp,DialogOptionSelected,$option == exerelinRaidHelp,FireAll ExerelinRaidListOptions,"Base attacker strength = (marine strength + fleet DP/2) * 0.7
Base defender strength = 0.2 * (market size+1)^3 * (stability + 0.5) * 0.375
Each Military Base and Regional Capital adds 25% to defender strength, Headquarters adds 40%.
Attacker strength varies by up to 1/7th in either direction.

Amount of loot is determined by ratio of attacker strength to defender strength (must be >1 to get anything).
Marine losses depend on both strength values, plus a random factor.

It will usually be necessary to defeat a close-in defence fleet before attempting a raid.",,
,,,,,,
#ExerelinRaidProceed,DialogOptionSelected,"$option == exerelinRaidProceed
$hasMarket ","Wait $global.exerelinRaidWait 0.25 $global.exerelinRaidComplete $global.exerelinRaidInterrupted $global.exerelinRaidInProgress ""Raiding...""
Exerelin_NotifyInvasion $global.exerelinRaidWait 750 true
MakePlayerImmediatelyAttackable
$player.raidTarget = $id 0.27
CreateWarmongerEvent $faction.id
AdjustRep $faction.id COMBAT_NORMAL",,,
ExerelinRaidProceedFast,DialogOptionSelected,$option == exerelinRaidProceed,"CreateWarmongerEvent $faction.id
AdjustRep $faction.id COMBAT_NORMAL
ExecuteInvasionRound true
FireBest ExerelinRaidResults",RAID OUTCOME:,,
ExerelinRaidProceedDefenders,DialogOptionSelected,"$option == exerelinRaidProceed
$market.hasDefenders","$global.nex_afterBattleMode = ""raid"" 0
Nex_InvasionDefenseInteraction true","As your $shipOrFleet moves in closer, a defence fleet scrambles from $market. It's clear they won't let you go further without a fight.",,
ExerelinRaidPostDefenders,BeatDefendersContinue,"$global.nex_afterBattleMode == ""raid""","$menuState = raid 0
ShowVisual ""graphics/illustrations/pirate_station.jpg""
SetPromptText ""You decide to...""
FireAll ExerelinRaidListOptions",Your $shipOrFleet neutralizes the defence fleet and is ready to continue with the raid.,,
ExerelinRaidDone,DialogOptionSelected,"$option == exerelinRaidDone
$hasMarket",Exerelin_LootMarket true,,,
ExerelinRaidLeave,DialogOptionSelected,$option == exerelinRaidLeave,DismissDialog,,,
,,,,,,
#ExerelinRaidOpen,OpenInteractionDialog,"$hasMarket
$id == $player.raidTarget","ExerelinShowDefaultVisual
FireBest ExerelinInitRaidDialog",,,
#ExerelinRaidRoundComplete,ExerelinInitRaidDialog,"$hasMarket
$global.exerelinRaidComplete score:100","ExecuteInvasionRound true
FireBest ExerelinRaidResults",,,
ExerelinRaidResultsComplete,ExerelinRaidResults,$exerelinRaidSuccessful,"$menuState = exerelin_raid 0
ShowVisual ""graphics/illustrations/pirate_station.jpg""
unset $player.raidTarget
SetShortcut exerelinRaidDone RETURN",You've successfully raided $entityName!,exerelinRaidDone:Collect your spoils and leave,
ExerelinRaidResultsIncomplete,ExerelinRaidResults,"!$exerelinRaidSuccessful
HasMarines 1","$menuState = exerelin_raid 0
ShowVisual ""graphics/illustrations/hull_breach.jpg""
unset $player.raidTarget
$tradeMode = NONE 0
SetShortcut exerelinRaid RETURN
SetShortcut exerelinRaidLeave ESCAPE",Your raid attempt on $entityName was beaten back.,"exerelinRaid:Attack again
exerelinRaidLeave:Leave",
ExerelinRaidResultsIncompleteNoMoreMarines,ExerelinRaidResults,"!$exerelinRaidSuccessful
!HasMarines 1","$menuState = exerelin_raid 0
ShowVisual ""graphics/illustrations/hull_breach.jpg""
unset $player.raidTarget
$tradeMode = NONE 0
SetShortcut exerelinRaidLeave ESCAPE","Your raid attempt on $entityName was beaten back.

Your marine complement has been wiped out; you cannot conduct further raids.",exerelinRaidLeave:Leave,
#ExerelinRaidResultsCancelled,ExerelinRaidResults,$exerelinRaidCancelled score:100,"$menuState = exerelin_raid 0
ExerelinShowDefaultVisual
unset $player.raidTarget
FireAll PopulateOptions",This isn't a valid raid target!,,
#ExerelinRaidInterupted,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinRaidInterrupted","unset $global.exerelinRaidInterrupted
unset $player.raidTarget
$menuState = main 0
FireBest MarketPostOpen",Your raid was interrupted.,,
#ExerelinInitRaidInProgress,ExerelinInitInvadeDialog,"$hasMarket
$global.exerelinRaidInProgress
!$global.exerelinRaidInterrupted
!$global.exerelinRaidComplete",,You're currently invading $entityName.,,
#ExerelinInitRaidAbort,DialogOptionSelected,$option==exerelinAbort,"AbortWait $global.exerelinRaidWait
unset $player.raidTarget
$menuState = main 0
FireAll PopulateOptions",The raid is cancelled.,,
#ExerelinRaidInterference_start,BeginFleetEncounter,"$exerelinRespondingToRaid score:100
$global.exerelinRaidInProgress score:20","AbortWait $global.exerelinRaidWait
MakeOtherFleetHostile true
MakeOtherFleetAggressive true
unset $entity.ignorePlayerCommRequests
unset $player.raidTarget
BroadcastCancelPlayerAction 1500 $exerelinRespondingToRaid",The appearance of a $faction $otherShipOrFleet interrupts your raid preparations.,,
#ExerelinRaidInterference_cancelledAndRan,BeginFleetEncounter,"$exerelinRespondingToRaid score:100
$faction.hostileToPlayer","MakeOtherFleetHostile true
MakeOtherFleetAggressive true
unset $entity.ignorePlayerCommRequests
unset $player.raidTarget
BroadcastCancelPlayerAction 1500 $exerelinRespondingToRaid","The $faction $otherShipOrFleet catches up with you, weapons hot.",,
,,,,,,
# END RAID OPTIONS,,,,,,
,,,,,,
,,,,,,
,,,,,,
#START MARKET DIRECTORY OPTIONS,,,,,,
nex_MarketFactionDirectoryOption,ExerelinMarketSpecial,,SetShortcut nex_factionDirectoryMain D,,7:nex_factionDirectoryMain:Faction directory,
nex_FactionDirectory,DialogOptionSelected,$option == nex_factionDirectoryMain,FireAll ExerelinFactionDirectory,,,
nex_FactionDirectoryByTrigger,ExerelinFactionDirectory,,Nex_FactionDirectory listGroups,Which faction do you want to look up?,,
,,,,,,
nex_factionDirectoryList1,DialogOptionSelected,$option == nex_factionDirectoryList1,Nex_FactionDirectory listFactions 1,,,
nex_factionDirectoryList2,DialogOptionSelected,$option == nex_factionDirectoryList2,Nex_FactionDirectory listFactions 2,,,
nex_factionDirectoryList3,DialogOptionSelected,$option == nex_factionDirectoryList3,Nex_FactionDirectory listFactions 3,,,
nex_factionDirectoryList4,DialogOptionSelected,$option == nex_factionDirectoryList4,Nex_FactionDirectory listFactions 4,,,
nex_factionDirectoryList5,DialogOptionSelected,$option == nex_factionDirectoryList5,Nex_FactionDirectory listFactions 5,,,
nex_factionDirectoryList6,DialogOptionSelected,$option == nex_factionDirectoryList6,Nex_FactionDirectory listFactions 6,,,
nex_factionDirectoryList7,DialogOptionSelected,$option == nex_factionDirectoryList7,Nex_FactionDirectory listFactions 7,,,
,,,,,,
nex_factionDirectoryPrint,DialogOptionSelected,"Nex_OptionStartsWith ""nex_printFactionMarkets_""",Nex_FactionDirectory print,,,
#END MARKET DIRECTORY OPTIONS,,,,,,
,,,,,,
#START AGENT OPTIONS,,,,,,
ExerelinMarketAgentOption,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""","SetEnabled exerelinUseAgent true
SetShortcut exerelinUseAgent A",,2:exerelinUseAgent:Deploy an agent,
ExerelinMarketAgentOptionNoAgents,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
!HasItem agent score:10","SetTooltip exerelinUseAgent ""You have no agents!""
SetEnabled exerelinUseAgent false",,,
ExerelinMarketAgentOptionNotAllowed,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
!FactionAllowAgentActions $faction.id score:20","SetTooltip exerelinUseAgent""$TheFaction cannot be infiltrated.""
SetEnabled exerelinUseAgent false",,,
#ExerelinMarketAgentOptionNoSneak,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
$tradeMode == NONE
ArePatrolsNearby $faction.id 750 score:10","SetTooltip exerelinUseAgent ""The port is closed to you, and $faction patrols nearby prevent agent insertion.""
SetEnabled exerelinUseAgent false",,,
ExerelinMarketAgentOptionAlertLevelMaxed,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
HasItem agent
$market.alertLevel >= 1","SetTooltip exerelinUseAgent ""Security forces are at maximum alertness; infiltration is not possible.""
SetEnabled exerelinUseAgent false",,,
ExerelinAgentOptionListMain,DialogOptionSelected,$option == exerelinUseAgent,"$menuState = agent 0
GetNumSpecialPeople
ShowVisual ""graphics/illustrations/quartermaster.jpg""
FireAll ExerelinAgentOption",,,
ExerelinAgentOptionNumAgents,ExerelinAgentOption,,SetTextHighlights $numAgents,You have $numAgents agent(s) to deploy.,,
ExerelinAgentOptionListGatherIntel,ExerelinAgentOption,,"SetTooltip exerelinAgentGatherIntel ""Gets the market's current stability, reserve size and security alert level.""
SetShortcut exerelinAgentGatherIntel I",,exerelinAgentGatherIntel:Gather intel,
ExerelinAgentOptionListRaiseRelations,ExerelinAgentOption,,"SetTooltip exerelinAgentRaiseRelations ""Influence $theFaction to like your faction more. If it fails, there is a chance they will turn more hostile instead.""
SetShortcut exerelinAgentRaiseRelations R",,exerelinAgentRaiseRelations:Raise relations,
ExerelinAgentOptionListLowerRelations,ExerelinAgentOption,,"SetTooltip exerelinAgentLowerRelations ""Influence $theFaction to dislike one of your factions' enemies more. If your attempt is detected, both factions will be angry with you.""
SetShortcut exerelinAgentLowerRelations L",,exerelinAgentLowerRelations:Lower relations,
ExerelinAgentOptionListDestabilizeMarket,ExerelinAgentOption,,"SetTooltip exerelinAgentDestabilizeMarket ""Attempt the use of terror methods to destabilize $market. There is a chance your agent will be detected, with serious diplomatic repercussions.""
SetShortcut exerelinAgentDestabilizeMarket D",,exerelinAgentDestabilizeMarket:Destabilize market,
ExerelinAgentOptionListBack,ExerelinAgentOption,,SetShortcut exerelinMarketSpecial ESCAPE,,exerelinMarketSpecial:Back,
,,,,,,
ExerelinAgentGatherIntel,DialogOptionSelected,$option == exerelinAgentGatherIntel,"AgentGatherIntel
FireBest ExerelinAgentPostDeploy",,,
ExerelinAgentRaiseRelations,DialogOptionSelected,$option == exerelinAgentRaiseRelations,"AgentRaiseRelations
FireBest ExerelinAgentPostDeploy",,,
ExerelinAgentLowerRelations,DialogOptionSelected,$option == exerelinAgentLowerRelations,"AgentLowerRelations
FireBest ExerelinAgentPostDeploy",,,
ExerelinAgentDestabilizeMarket,DialogOptionSelected,"$option == exerelinAgentDestabilizeMarket
","AgentDestabilizeMarket
FireBest ExerelinAgentPostDeploy",,,
ExerelinAgentAfterDeploy,ExerelinAgentPostDeploy,HasItem agent,"GetNumSpecialPeople
FireAll ExerelinAgentOption",,,
ExerelinAgentAfterDeployNoMoreAgents,ExerelinAgentPostDeploy,!HasItem agent score:10,"$menuState = main 0
ExerelinShowDefaultVisual
FireAll PopulateOptions",You have no more agents to deploy.,,
ExerelinAgentAfterDeployAlertLevelMaxed,ExerelinAgentPostDeploy,$market.alertLevel >= 1 score:5,"$menuState = main 0
ExerelinShowDefaultVisual
FireAll PopulateOptions",Security is too tight for further agent insertions.,,
#END AGENT OPTIONS,,,,,,
,,,,,,
#START SABOTEUR OPTIONS,,,,,,
ExerelinMarketSaboteurOption,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""","SetEnabled exerelinUseSaboteur true
SetShortcut exerelinUseSaboteur S",,3:exerelinUseSaboteur:Deploy a saboteur,
ExerelinMarketSaboteurOptionNoSaboteurs,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
!HasItem saboteur","SetTooltip exerelinUseSaboteur ""You have no saboteurs!""
SetEnabled exerelinUseSaboteur false",,,
ExerelinMarketSaboteurOptionNotAllowed,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
!FactionAllowAgentActions $faction.id score:20","SetTooltip exerelinUseSaboteur ""$TheFaction cannot be infiltrated.""
SetEnabled exerelinUseSaboteur false",,,
#ExerelinMarketSaboteurOptionNoSneak,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
$tradeMode == NONE
ArePatrolsNearby $faction.id 750 score:10","SetTooltip exerelinUseSaboteur ""The port is closed to you, and $faction patrols nearby prevent saboteur insertion.""
SetEnabled exerelinUseSaboteur false",,,
ExerelinMarketSaboteurOptionAlertLevelMaxed,ExerelinMarketSpecial,"$hasMarket
$faction.id != $player.factionId
$faction.id != ""neutral""
$faction.id != ""player_npc""
HasItem agent
$market.alertLevel >= 1","SetTooltip exerelinUseAgent ""Security forces are at maximum alertness; infiltration is not possible.""
SetEnabled exerelinUseSaboteur false",,,
ExerelinSaboteurOptionListMain,DialogOptionSelected,$option == exerelinUseSaboteur,"$menuState = saboteur 0
GetNumSpecialPeople
ShowVisual ""graphics/illustrations/cargo_loading.jpg""
FireAll ExerelinSaboteurOption",,,
ExerelinSaboteurOptionNumSaboteurs,ExerelinSaboteurOption,,SetTextHighlights $numSaboteurs,You have $numSaboteurs saboteur(s) to deploy.,,
ExerelinSaboteurOptionListSabotageReserve,ExerelinSaboteurOption,,"SetTooltip exerelinSaboteurSabotageReserve ""Sabotages the reserve fleet on $market, weakening its ability to respond to invasions. Needless to say, this will be considered a hostile act if discovered.""
SetShortcut exerelinSaboteurSabotageReserve S",,exerelinSaboteurSabotageReserve:Sabotage reserve fleet,
ExerelinSaboteurOptionListDestroyFood,ExerelinSaboteurOption,,"SetTooltip exerelinSaboteurDestroyFood ""Destroys a large amount of food on $market, possibly provoking a destabilizing crisis.""
SetShortcut exerelinSaboteurDestroyFood F",,exerelinSaboteurDestroyFood:Destroy food stockpiles,
ExerelinSaboteurOptionListBack,ExerelinSaboteurOption,,SetShortcut exerelinMarketSpecial ESCAPE,,exerelinMarketSpecial:Back,
ExerelinSaboteurSabotageReserve,DialogOptionSelected,$option == exerelinSaboteurSabotageReserve,"SaboteurSabotageReserve
FireBest ExerelinSaboteurPostDeploy",,,
ExerelinSaboteurDestroyFood,DialogOptionSelected,$option == exerelinSaboteurDestroyFood,"SaboteurDestroyFood
FireBest ExerelinSaboteurPostDeploy",,,
ExerelinSaboteurAfterDeploy,ExerelinSaboteurPostDeploy,HasItem saboteur,"GetNumSpecialPeople
FireAll ExerelinSaboteurOption",,,
ExerelinSaboteurAfterDeployNoMoreSaboteurs,ExerelinSaboteurPostDeploy,!HasItem saboteur score:10,"$menuState = main 0
ExerelinShowDefaultVisual
FireAll PopulateOptions",You have no more saboteurs to deploy.,,
ExerelinSaboteurAfterDeployAlertLevelMaxed,ExerelinSaboteurPostDeploy,$market.alertLevel >= 1 score:5,"$menuState = main 0
ExerelinShowDefaultVisual
FireAll PopulateOptions",Security is too tight for further saboteur insertions.,,
#END SABOTEUR OPTIONS,,,,,,
,,,,,,
#START PRISONER OPTIONS,,,,,,
ExerelinMarketPrisonerOption,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""
","SetEnabled exerelinUsePrisoner true
SetShortcut exerelinUsePrisoner P",,4:exerelinUsePrisoner:Prisoner actions,
ExerelinMarketPrisonerOptionNoPrisoners,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""
!HasItem prisoner score:10","SetTooltip exerelinUsePrisoner ""You have no prisoners!""
SetEnabled exerelinUsePrisoner false",,,
ExerelinMarketPrisonerOptionNotAllowed,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""
!FactionAllowPrisonerActions  $faction.id score:20","SetTooltip exerelinUsePrisoner ""$TheFaction have no use for prisoners.""
SetEnabled exerelinUsePrisoner false",,,
ExerelinPrisonerOptionListMain,DialogOptionSelected,$option == exerelinUsePrisoner,"$menuState = prisoner 0
GetNumSpecialPeople
ShowVisual ""graphics/illustrations/pirate_station.jpg""
FireAll ExerelinPrisonerOption",,,
ExerelinPrisonerOptionNumPrisoners,ExerelinPrisonerOption,,SetTextHighlights $numPrisoners,You have $numPrisoners prisoner(s).,,
ExerelinPrisonerOptionListRepatriate,ExerelinPrisonerOption,,"SetTooltip exerelinPrisonerRepatriate ""Release a prisoner for a reputation boost with $theFaction.""
SetShortcut exerelinPrisonerRepatriate P",,exerelinPrisonerRepatriate:Repatriate prisoner,
ExerelinPrisonerOptionListRansomBase,ExerelinPrisonerOption,,,,exerelinPrisonerRansom:Collect ransom,
ExerelinPrisonerOptionListRansom,ExerelinPrisonerOption,!IsPirateFaction $faction.id,"GetPrisonerValue
SetTooltip exerelinPrisonerRansom ""Return a prisoner in exchange for a ransom of $ransomValue credits.""
SetTooltipHighlightColors exerelinPrisonerRansom buttonShortcut 
SetTooltipHighlights exerelinPrisonerRansom $ransomValue
SetEnabled exerelinPrisonerRansom true
SetShortcut exerelinPrisonerRansom R",,,
ExerelinPrisonerOptionListRansomHostile,ExerelinPrisonerOption,"RepIsAtBest $faction.id HOSTILE
!IsPirateFaction $faction.id
!$faction.c:allowsTransponderOffTrade
!$market.mc:free_market","SetTooltip exerelinPrisonerRansom ""$TheFactionLong are $relAdjective to you and refuse to consider any ransom payment.""
SetEnabled exerelinPrisonerRansom false",,,
ExerelinPrisonerOptionListRansomHostileCanDisableTransponder,ExerelinPrisonerOption,"RepIsAtBest $faction.id HOSTILE
!IsPirateFaction $faction.id
$player.transponderOn","SetTooltip exerelinPrisonerRansom ""$TheFactionLong are $relAdjective to you and refuse to consider any ransom payment. Coming in with your transponder off might allow an under-the-table deal.""
SetEnabled exerelinPrisonerRansom false",,,
ExerelinPrisonerOptionListRansomPirates,ExerelinPrisonerOption,IsPirateFaction $faction.id,"SetTooltip exerelinPrisonerRansom ""Pirates do not pay ransom.""
SetEnabled exerelinPrisonerRansom false",,,
ExerelinPrisonerOptionListSellSlave,ExerelinPrisonerOption,$tradeMode != NONE,"GetPrisonerValue
SetTooltip exerelinPrisonerSellSlave ""Sell a prisoner as a slave for $slaveValue credits. This will anger lawful factions.""
SetTooltipHighlightColors exerelinPrisonerSellSlave buttonShortcut 
SetTooltipHighlights exerelinPrisonerSellSlave $slaveValue
SetEnabled exerelinPrisonerSellSlave true
SetShortcut exerelinPrisonerSellSlave S",,exerelinPrisonerSellSlave:Sell as slave,
ExerelinPrisonerOptionListSellSlaveNoMarket,ExerelinPrisonerOption,$tradeMode == NONE,"SetTooltip exerelinPrisonerSellSlave ""You cannot dock with $market to perform this trade.""
SetEnabled exerelinPrisonerSellSlave false",,exerelinPrisonerSellSlave:Sell as slave,
ExerelinPrisonerOptionListBack,ExerelinPrisonerOption,,SetShortcut exerelinMarketSpecial ESCAPE,,exerelinMarketSpecial:Back,
ExerelinPrisonerRepatriate,DialogOptionSelected,$option == exerelinPrisonerRepatriate,"PrisonerRepatriate
FireAll ExerelinPrisonerPostTrade",The prisoner has been repatriated.,,
ExerelinPrisonerRansom,DialogOptionSelected,$option == exerelinPrisonerRansom,"PrisonerRansom
SetTextHighlights $ransomValue
FireAll ExerelinPrisonerPostTrade",The prisoner has been ransomed for $ransomValue credits.,,
ExerelinPrisonerSellSlave,DialogOptionSelected,$option == exerelinPrisonerSellSlave,"PrisonerSellSlave
SetTextHighlights $slaveValue
FireAll ExerelinPrisonerPostTrade",You have sold the prisoner into slavery for $slaveValue credits.,,
ExerelinPrisonerAfterTrade,ExerelinPrisonerPostTrade,HasItem prisoner,"GetNumSpecialPeople
FireAll ExerelinPrisonerOption",,,
ExerelinPrisonerAfterTradeNoMorePrisoners,ExerelinPrisonerPostTrade,!HasItem prisoner,"$menuState = main 0
ExerelinShowDefaultVisual
FireAll PopulateOptions",You have no more prisoners.,,
#END PRISONER OPTIONS,,,,,,
,,,,,,
#START FLEET REQUEST OPTIONS,,,,,,
ExerelinMarketFleetRequestOption,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""","SetEnabled exerelinFleetRequestMenu true
SetShortcut exerelinFleetRequestMenu F",,5:exerelinFleetRequestMenu:Request a fleet,
ExerelinMarketFleetRequestOptionNoBase,ExerelinMarketSpecial,"$hasMarket
$faction.id != ""neutral""
!IsFactionAlive $player.factionId
!IsFactionAlive player_npc","SetTooltip exerelinFleetRequestMenu ""Your faction has no base to launch a fleet from.""
SetEnabled exerelinFleetRequestMenu false",,,
ExerelinFleetRequestOptionListMain,DialogOptionSelected,$option == exerelinFleetRequestMenu,"$fleetRequestFP = 15
$fleetRequestMarines=0
$menuState = fleetRequest 0
ShowVisual ""graphics/illustrations/hound_hangar.jpg""
FireAll ExerelinFleetRequestOption",,,
ExerelinFleetRequestOptionListFire,ExerelinFleetRequestOption,FleetRequestCanAfford,"SetTooltip exerelinFleetRequestFire ""Deploying this fleet to $market will require $fleetRequestCost credits. $player.creditsHave credits are available.""
SetEnabled exerelinFleetRequestFire true
SetTooltipHighlightColors exerelinFleetRequestFire buttonShortcut buttonShortcut
SetTooltipHighlights exerelinFleetRequestFire $fleetRequestCost $player.creditsHave
SetShortcut exerelinFleetRequestFire RETURN",,exerelinFleetRequestFire:Request a fleet,
ExerelinFleetRequestOptionListFireNoMarkets,ExerelinFleetRequestOption,"FleetRequestCanAfford
!IsFactionAlive $player.factionId score:100","SetTooltip exerelinFleetRequestFire ""Your faction has no base to launch the fleet from.""
SetEnabled exerelinFleetRequestFire false",,exerelinFleetRequestFire:Request a fleet,
ExerelinFleetRequestOptionListFireNotEnoughCredits,ExerelinFleetRequestOption,"!FleetRequestCanAfford score:100
IsFactionAlive $player.factionId","SetTooltip exerelinFleetRequestFire ""Deploying this fleet to $market will require $fleetRequestCost credits. Only $player.creditsHave credits are available.""
SetEnabled exerelinFleetRequestFire false
SetTooltipHighlightColors exerelinFleetRequestFire buttonShortcut buttonShortcut
SetTooltipHighlights exerelinFleetRequestFire $fleetRequestCost $player.creditsHave",,exerelinFleetRequestFire:Request a fleet,
ExerelinFleetRequestOptionListChangeFP,ExerelinFleetRequestOption,,SetShortcut exerelinFleetRequestChangeFP F,,exerelinFleetRequestChangeFP:Fleet points - $fleetRequestFP,
ExerelinFleetRequestOptionListChangeMarineCount,ExerelinFleetRequestOption,IsValidInvasionTarget,"SetEnabled exerelinFleetRequestChangeMarineCount true
SetTooltip exerelinFleetRequestChangeMarineCount ""Carrying marines will make this fleet an invasion fleet. Dispatching one will be considered a hostile act.""
SetShortcut exerelinFleetRequestChangeMarineCount M",,exerelinFleetRequestChangeMarineCount:Marines to deploy - $fleetRequestMarines,
ExerelinFleetRequestOptionListChangeMarineCountInvalid,ExerelinFleetRequestOption,!IsValidInvasionTarget,"SetTooltip exerelinFleetRequestChangeMarineCount ""This market is not an eligible invasion target.""
SetEnabled exerelinFleetRequestChangeMarineCount false",,exerelinFleetRequestChangeMarineCount:Marines to deploy - $fleetRequestMarines,
ExerelinFleetRequestOptionListBack,ExerelinFleetRequestOption,,SetShortcut exerelinMarketSpecial ESCAPE,,exerelinMarketSpecial:Back,
,,,,,,
ExerelinFleetRequestChangeFP,DialogOptionSelected,$option == exerelinFleetRequestChangeFP,"FleetRequestChangeFP
FireAll ExerelinFleetRequestOption",,,
ExerelinFleetRequestChangeMarineCount,DialogOptionSelected,$option == exerelinFleetRequestChangeMarineCount,"FleetRequestChangeMarineCount
FireAll ExerelinFleetRequestOption",,,
ExerelinFleetRequestFire,DialogOptionSelected,$option == exerelinFleetRequestFire,"FleetRequestFire
FireAll ExerelinFleetRequestOption",,,
#END FLEET REQUEST OPTIONS,,,,,,
,,,,,,
#START SUPERWEAPON OPTIONS,,,,,,
ExerelinMarketSuperweaponOption,ExerelinMarketSpecial,"IsValidInvasionTarget
NGCDoesFactionExist interstellarimperium
Exerelin_CanUseSuperweapon","SetEnabled exerelinSuperweapon true
SetShortcut exerelinSuperweapon X",,1:exerelinSuperweapon:Deploy planetbreaker,
ExerelinMarketSuperweaponOptionNotAvailable,ExerelinMarketSpecial,"IsValidInvasionTarget
NGCDoesFactionExist interstellarimperium
!Exerelin_CanUseSuperweapon","SetEnabled exerelinSuperweapon false
SetTooltip exerelinSuperweapon ""You have no ships capable of performing this action.""",,1:exerelinSuperweapon:Deploy planetbreaker,
ExerelinSuperweaponPrompt,DialogOptionSelected,$option == exerelinSuperweapon,"$menuState = superweapon 0
Exerelin_ShowShipVisual $bestSuperweapon
Nex_PrepareResponseFleet true
SetShortcut exerelinSuperweaponProceed RETURN
SetShortcut exerelinSuperweaponCancel ESCAPE","You can use a superweapon on $market to cause massive devastation, clearing the way for an invasion. Expect the enemy to try to stop you.

Be warned of the political repercussions.","1:exerelinSuperweaponProceed:Continue
2:exerelinSuperweaponCancel:Cancel",
ExerelinSuperweaponCancel,DialogOptionSelected,$option == exerelinSuperweaponCancel,"ShowDefaultVisual
FireAll ExerelinMarketSpecial",,,
,,,,,,
ExerelinSuperweaponProceed,DialogOptionSelected,"$option == exerelinSuperweaponProceed
!$market.hasDefenders","CreateWarmongerEvent $faction.id
AdjustRep $faction.id COMBAT_NORMAL
Exerelin_UseSuperweapon
FireBest ExerelinSuperweaponDialog",,,
ExerelinSuperweaponProceedDefenders,DialogOptionSelected,"$option == exerelinSuperweaponProceed
$market.hasDefenders","$global.nex_afterBattleMode = ""superweapon"" 0
Nex_InvasionDefenseInteraction true","As your $shipOrFleet moves in closer, a defence fleet scrambles from $market. You'll need to fight your way through them to deploy your superweapon.",,
ExerelinSuperweaponPostDefenders,BeatDefendersContinue,"$global.nex_afterBattleMode == ""superweapon""","$menuState = superweapon 0
Exerelin_ShowShipVisual $bestSuperweapon
SetPromptText ""You decide to...""
SetShortcut exerelinSuperweaponProceed RETURN
SetShortcut exerelinSuperweaponCancel ESCAPE",Your $shipOrFleet neutralizes the response fleet and is ready to deploy your superweapon.,"1:exerelinSuperweaponProceed:Continue
2:exerelinSuperweaponCancel:Cancel",
ExerelinSuperweaponLeave,DialogOptionSelected,$option == exerelinSuperweaponLeave,DismissDialog,,,
,,,,,,
ExerelinSuperweaponFired,ExerelinSuperweaponDialog,$superweaponSuccess,"ShowVisual ""graphics/illustrations/facility_explosion.jpg""
SetShortcut exerelinSuperweaponLeave ESCAPE",,exerelinSuperweaponLeave:Leave,
ExerelinSuperweaponFiredAscalon,ExerelinSuperweaponDialog,"$id == tem_ascalon score:100
$superweaponSuccess","ShowDefaultVisual
SetShortcut exerelinSuperweaponLeave ESCAPE","The missile hits a shield several hundred meters short of the ground and detonates in a brilliant flash. When it clears, the rocky ground beneath is visibly scorched, but no real damage has been inflicted.

In hindsight, trying to bomb a hardened underground installation protected by Templar technology probably wasn't the best idea.",exerelinSuperweaponLeave:Leave,
ExerelinSuperweaponFiredNoneAvailable,ExerelinSuperweaponDialog,!$superweaponSuccess score:999,FireAll PopulateOptions,Superweapon deployment failed!,,
,,,,,,
#END SUPERWEAPON OPTIONS,,,,,,
,,,,,,
#START MINING OPTIONS,,,,,,
nex_openAsteroid,OpenInteractionDialog,"$isAsteroid
!Nex_IsModActive ""stellar_industrialist""","$menuState = main 0
ShowDefaultVisual
PrintDescription 3
FireAll PopulateOptions",Your $shipOrFleet approaches the asteroid.,,
nex_leaveAsteroid,PopulateOptions,"$isAsteroid
!Nex_IsModActive ""stellar_industrialist""",SetShortcut marketLeave ESCAPE,,100:marketLeave:Leave,
,,,,,,
nex_miningOption,PopulateOptions,"$nex_canMine
!$isAsteroid",SetEnabled nex_miningPreview true,,3:nex_miningPreview:Mine planet,
nex_miningOptionAsteroid,PopulateOptions,"$nex_canMine
$isAsteroid",SetEnabled nex_miningPreview true,,3:nex_miningPreview:Mine asteroid,
nex_miningOptionUnsurveyed,PopulateOptions,"$nex_canMine
!$isAsteroid
$market.surveyLevel != FULL","SetTooltip nex_miningPreview ""You need to survey the planet first!""
SetEnabled nex_miningPreview false",,,
,,,,,,
nex_miningPreview,DialogOptionSelected,$option == nex_miningPreview,"$menuState = nex_mining 0
Nex_PrintMiningInfo planet
FireAll nex_MiningOption",,,
nex_miningMineOption,nex_MiningOption,$player.miningStrength > 0,"SetEnabled nex_miningStart true
SetShortcut nex_miningStart RETURN
SetShortcut nex_miningBack ESCAPE",,"nex_miningStart:Start mining
nex_miningFleetInfo:List mining ships
nex_miningListTools:What ships and weapons can mine?
nex_miningBack:Back",
nex_miningMineOptionNoMiners,nex_MiningOption,$player.miningStrength <= 0,"SetTooltip nex_miningStart ""You have no ships capable of mining.""
SetEnabled nex_miningStart false
SetShortcut nex_miningBack ESCAPE",,"nex_miningStart:Start mining
nex_miningListTools:What ships and weapons can mine?
nex_miningBack:Back",
nex_miningFleetInfo,DialogOptionSelected,$option == nex_miningFleetInfo,"Nex_PrintMiningInfo fleet
FireAll nex_miningOption",,,
nex_miningListTools,DialogOptionSelected,$option == nex_miningListTools,"Nex_PrintMiningInfo tools
FireAll nex_miningOption",,,
nex_miningStart,DialogOptionSelected,"$nex_canMine
$option == nex_miningStart","Wait $global.miningWait 1.0 $global.miningFinished $global.miningInterrupted $global.miningInProgress ""Mining...""
MakePlayerImmediatelyAttackable",,,
nex_miningInterrupted,BeginFleetEncounter,$global.miningInProgress,AbortWait $global.miningWait,Contact with the other fleet suspends mining operations.,,
nex_miningComplete,OpenInteractionDialog,"$nex_canMine
$global.miningFinished score:3","Nex_GetMiningResults 1
ShowDefaultVisual",Your $shipOrFleet has completed mining on $entityName.,"nex_miningPreview:Mine again
nex_miningBack:Back",
,,,,,,
nex_miningBack,DialogOptionSelected,$option == nex_miningBack,"$menuState = main 0
FireAll PopulateOptions",,,
#END MINING OPTIONS,,,,,,
,,,,,,
,,,,,,
## Base commander stuff ##,,,,,,
ExerelinConvOfficialGreeting,PickGreeting,"Exerelin_IsBaseOfficial
!$mpm_isPlayerContact","ShowPersonVisual
FireAll PopulateOptions
FireAll ExerelinBaseCommanderOptionsInitialize","After a short wait, your connection request is accepted.

""This is $rank $local.name, $post. State your business.""",,
ExerelinConvOfficialGreetingTemplars,PickGreeting,"Exerelin_IsBaseOfficial
$faction.id == ""templars""
!$mpm_isPlayerContact","ShowPersonVisual
FireAll ExerelinBaseCommanderOptionsInitialize","After a short wait, your connection request is accepted.

""This is $rank $local.name, $post of $entityName. Speak quickly or be purged.""",,
ExerelinConvOfficialGreetingPirates,PickGreeting,"Exerelin_IsBaseOfficial
IsPirateFaction $faction.id
!$mpm_isPlayerContact","ShowPersonVisual
FireAll PopulateOptions
FireAll ExerelinBaseCommanderOptionsInitialize","After a short wait, your connection request is accepted.

""Yeah, what is it?""",,
,,,,,,
#ExerelinBaseCommanderInitializeAddDialogs,ExerelinBaseCommanderOptionsInitialize,,<do something>,,,
,,,,,,
ExerelinBaseCommanderMenuRepeat,DialogOptionSelected,$option == exerelinBaseCommanderMenuRepeat,FireAll ExerelinBaseCommanderOptionsInitialize,"""Anything else?""",,
,,,,,,
#START FACTION CHANGE OPTIONS,,,,,,
ExerelinBaseCommanderOptionsSetVariables,ExerelinBaseCommanderOptionsInitialize,,"$thePlayerFaction = $player.theFaction 0
unset $showJoinFactionOptions
unset $showLeaveFactionOptions
unset $showPlayerFactionDiplomacyOptions
Exerelin_GetSalary",,,
ExerelinJoinFactionCheckConditions,ExerelinBaseCommanderOptionsInitialize,"$faction.id != ""neutral""
$faction.id != ""independent""
$faction.id != ""player_npc""
$faction.id != $player.factionId",$showJoinFactionOptions = true 0,,,
ExerelinLeaveFactionCheckConditions,ExerelinBaseCommanderOptionsInitialize,"$faction.id != ""neutral""
$faction.id != ""independent""
$faction.id != ""player_npc""
$faction.id == $player.factionId",$showLeaveFactionOptions = true 0,,,
,,,,,,
,,,,,,
ExerelinJoinFactionOption,PopulateOptions,"$showJoinFactionOptions
RepIsAtWorst $faction.id FRIENDLY
$player.factionId == ""player_npc""",SetEnabled exerelinJoinFaction true,,exerelinJoinFaction:Join faction,
ExerelinJoinFactionOptionUntrusted,PopulateOptions,"$showJoinFactionOptions
!RepIsAtWorst $faction.id FRIENDLY
$player.factionId == ""player_npc""","SetTooltip exerelinJoinFaction ""$TheFaction do not trust you enough yet.""
SetEnabled exerelinJoinFaction false",,exerelinJoinFaction:Join faction,
ExerelinJoinFactionSwitchOption,PopulateOptions,"$showJoinFactionOptions
RepIsAtWorst $faction.id FRIENDLY
$player.factionId != ""player_npc""","SetTooltip exerelinJoinFaction ""To join $theFaction you will leave $player.theFaction.""
SetEnabled exerelinJoinFaction true",,exerelinJoinFaction:Join faction,
ExerelinJoinFactionSwitchOptionUntrusted,PopulateOptions,"$showJoinFactionOptions
!RepIsAtWorst $faction.id FRIENDLY
$player.factionId != ""player_npc""","SetTooltip exerelinJoinFaction ""$TheFaction do not trust you enough yet.\nTo join $theFaction you will leave $player.theFaction.""
SetEnabled exerelinJoinFaction false",,exerelinJoinFaction:Join faction,
,,,,,,
ExerelinLeaveFactionOption,PopulateOptions,"$showLeaveFactionOptions
$faction.id == $player.factionId",SetEnabled exerelinLeaveFaction true,,exerelinLeaveFaction:Leave faction,
ExerelinLeaveFactionOptionTemplars,PopulateOptions,"$showLeaveFactionOptions
$faction.id == ""templars""","SetTooltip exerelinLeaveFaction ""Knights Templar only leave the cause in death.""
SetEnabled exerelinLeaveFaction false",,,
,,,,,,
ExerelinJoinFaction,DialogOptionSelected,$option == exerelinJoinFaction,"SetShortcut exerelinJoinFactionConfirm RETURN
SetShortcut exerelinBaseCommanderMenuRepeat ESCAPE
Exerelin_GetSalary
SetTextHighlights $salary ""insurance""","""Good, good. We can offer you a place, with benefits including a monthly salary of $salary credits and insurance payments on ship loss. Just fill out this form here...""","exerelinJoinFactionConfirm:Confirm
exerelinBaseCommanderMenuRepeat:Cancel",
ExerelinJoinFactionConfirm,DialogOptionSelected,$option == exerelinJoinFactionConfirm,"JoinFaction $faction.id
FireAll ExerelinBaseCommanderOptionsInitialize","""Alright, you're registered. Welcome to the team.""",,
ExerelinJoinFactionPirate,DialogOptionSelected,"$option == exerelinJoinFaction
IsPirateFaction $faction.id","SetShortcut exerelinJoinFactionConfirm RETURN
SetShortcut exerelinBaseCommanderMenuRepeat ESCAPE
Exerelin_GetSalary
SetTextHighlights $salary ""insurance""","""Wanna be a freebooter, eh? Your cut of the community loot will be $salary credits per month, along with ship loss insurance. Here's some paperwork to fill out for the boss.""","exerelinJoinFactionConfirm:Confirm
exerelinBaseCommanderMenuRepeat:Cancel",
ExerelinJoinFactionConfirmPirate,DialogOptionSelected,"$option == exerelinJoinFactionConfirm
IsPirateFaction $faction.id","JoinFaction $faction.id
FireAll ExerelinBaseCommanderOptionsInitialize","""Excellent! I'll let the boys know about you.""",,
ExerelinJoinFactionTemplars,DialogOptionSelected,"$option == exerelinJoinFaction
$faction.id == ""templars""","SetShortcut exerelinJoinFactionConfirm RETURN
SetShortcut exerelinBaseCommanderMenuRepeat ESCAPE
SetTextHighlights $salary ""insurance""","""So you wish to join our noble cause? You will receive a monthly stipend of $salary, among other benefits including ship loss insurance. Are you prepared to give your oath?""","exerelinJoinFactionConfirm:Confirm
exerelinBaseCommanderMenuRepeat:Cancel",
ExerelinJoinFactionConfirmTemplars,DialogOptionSelected,"$option == exerelinJoinFactionConfirm
$faction.id == ""templars""","JoinFaction $faction.id
FireAll ExerelinBaseCommanderOptionsInitialize","""You are now one of us, $playerName. May our holy light purge the heathens!""",,
,,,,,,
ExerelinLeaveFaction,DialogOptionSelected,$option == exerelinLeaveFaction,"SetShortcut exerelinLeaveFactionConfirm RETURN
SetShortcut exerelinBaseCommanderMenuRepeat ESCAPE","""I'm sorry to hear that. If you're sure you want to leave, fill out this form.""","exerelinLeaveFactionConfirm:Confirm
exerelinBaseCommanderMenuRepeat:Cancel",
ExerelinLeaveFactionConfirm,DialogOptionSelected,$option == exerelinLeaveFactionConfirm,"LeaveFaction true
FireAll ExerelinBaseCommanderOptionsInitialize","""Alright, you're free to go. Good luck out there.""",,
ExerelinLeaveFactionPirate,DialogOptionSelected,"$option == exerelinLeaveFaction
IsPirateFaction $faction.id","SetShortcut exerelinLeaveFactionConfirm RETURN
SetShortcut exerelinBaseCommanderMenuRepeat ESCAPE","""What, you're not seriously going legit, are you? Fine, fill out this here form.""","exerelinLeaveFactionConfirm:Confirm
exerelinBaseCommanderMenuRepeat:Cancel",
ExerelinLeaveFactionConfirmPirate,DialogOptionSelected,"$option == exerelinLeaveFactionConfirm
IsPirateFaction $faction.id","LeaveFaction true
FireAll ExerelinBaseCommanderOptionsInitialize","""Alright. If you ever come to your senses, you know where to find us.""",,
#END FACTION CHANGE OPTIONS,,,,,,
,,,,,,
,,,,,,
#START PLAYER FACTION ALLIANCE OPTIONS,,,,,,
ExerelinPlayerFactionDiplomacyCheckConditions,ExerelinMarketSpecialInitialize,"$faction.id != ""neutral""
$faction.id != ""independent""
$faction.id != ""player_npc""
$player.factionId == ""player_npc""","$showPlayerFactionDiplomacyOptions = true 0
$_factionAllianceName = $faction.allianceName 0
$_playerAllianceName = $player.allianceName 0",,,
#ExerelinPlayerFactionDiplomacyCheckConditions2,ExerelinMarketSpecialInitialize,"!$market.mc:regional_capital
!$market.mc:headquarters
!$market.mc:military_base
!$market.mc:tem_avalon",$showPlayerFactionDiplomacyOptions = false 0,,,
,,,,,,
ExerelinJoinAllianceOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
$faction.isInAlliance",SetEnabled exerelinJoinAlliance true,,exerelinJoinAlliance:Join alliance $_factionAllianceName,
ExerelinJoinAllianceOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!RepIsAtWorst $faction.id FRIENDLY","SetTooltip exerelinJoinAlliance ""The $_factionAllianceName do not trust you enough yet.""
SetEnabled exerelinJoinAlliance false",,,
ExerelinJoinAllianceSwitchOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$player.isInAlliance
$faction.isInAlliance
$faction.allianceId != $player.allianceId","SetTooltip exerelinJoinFactionSwitch ""To join alliance $_factionAllianceName your faction will leave $_playerAllianceName.""
SetEnabled exerelinJoinAllianceSwitch true",,exerelinJoinAllianceSwitch:Join (switch to) alliance $_factionAllianceName,
ExerelinJoinAllianceSwitchOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$player.isInAlliance
$faction.isInAlliance
$faction.allianceId != $player.allianceId
!RepIsAtWorst $faction.id FRIENDLY","SetTooltip exerelinJoinAllianceSwitch ""The $_factionAllianceName do not trust you enough yet.\nTo join alliance $_factionAllianceName your faction would leave $_playerAllianceName.""
SetEnabled exerelinJoinAllianceSwitch false",,,
,,,,,,
ExerelinInviteToAllianceOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$player.isInAlliance
$faction.allianceId != $player.allianceId",SetEnabled exerelinInviteToAlliance true,,exerelinInviteToAlliance:Invite $theFaction to join alliance $_playerAllianceName,
ExerelinInviteToAllianceOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$faction.isInAlliance
!RepIsAtWorst $faction.id FRIENDLY","SetTooltip exerelinInviteToAlliance ""$TheFaction do not trust you enough yet.""
SetEnabled exerelinInviteToAlliance false",,,
ExerelinInviteToAllianceOptionAlreadyInAlliance,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
$faction.isInAlliance
$faction.allianceId != $player.allianceId","SetTooltip exerelinInviteToAlliance ""$TheFaction is already in an alliance.""
SetEnabled exerelinInviteToAlliance false",,,
ExerelinInviteToAllianceOptionIncompatible,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$faction.isInAlliance
!IsAllianceAlignmentCompatible $faction.id","SetTooltip exerelinInviteToAlliance ""$TheFaction cannot endorse the goals of the $_playerAllianceName.""
SetEnabled exerelinInviteToAlliance false",,,
,,,,,,
ExerelinFormAllianceOption,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
!$faction.isInAlliance",SetEnabled exerelinFormAlliance true,,exerelinFormAlliance:Invite $theFaction to form a new alliance,
ExerelinFormAllianceOptionUntrusted,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
!$faction.isInAlliance
!RepIsAtWorst $faction.id FRIENDLY","SetTooltip exerelinFormAlliance ""$TheFaction do not trust you enough yet.""
SetEnabled exerelinFormAlliance false",,,
ExerelinFormAllianceOptionAlreadyInAlliance,ExerelinMarketSpecial,"$showPlayerFactionDiplomacyOptions
!$player.isInAlliance
$faction.isInAlliance","SetTooltip exerelinFormAlliance ""$TheFaction is already in an alliance.""
SetEnabled exerelinFormAlliance false",,,
ExerelinLeaveAllianceOption,ExerelinMarketSpecial,"$hasMarket
$player.factionId == ""player_npc""
$player.isInAlliance
$faction.isInAlliance
$faction.allianceId == $player.allianceId","$_factionAllianceName = $faction.allianceName 0
$_playerAllianceName = $player.allianceName 0",,exerelinLeaveAlliance:Leave alliance $_factionAllianceName,
,,,,,,
ExerelinJoinAlliance,DialogOptionSelected,$option == exerelinJoinAlliance,,Are you sure you want your faction to join alliance $_factionAllianceName?,"exerelinJoinAllianceConfirm:Yes
exerelinMarketSpecial:No",
ExerelinJoinAllianceSwitch,DialogOptionSelected,$option == exerelinJoinAllianceSwitch,,Are you sure you want your faction to leave $_playerAllianceName and join $_factionAllianceName?,"exerelinJoinAllianceConfirm:Yes
exerelinMarketSpecial:No",
ExerelinJoinAllianceConfirm,DialogOptionSelected,$option == exerelinJoinAllianceConfirm,"JoinAlliance $faction.allianceId
FireAll ExerelinMarketSpecialInitialize",,,
ExerelinInviteToAlliance,DialogOptionSelected,$option == exerelinInviteToAlliance,,Are you sure you want to invite $theFaction to join alliance $_playerAllianceName?,"exerelinInviteToAllianceConfirm:Yes
exerelinMarketSpecial:No",
ExerelinInviteToAllianceConfirm,DialogOptionSelected,$option == exerelinInviteToAllianceConfirm,"InviteToAlliance $faction.id
FireAll ExerelinMarketSpecialInitialize",,,
ExerelinFormAlliance,DialogOptionSelected,$option == exerelinFormAlliance,,Are you sure you want to form a new alliance with $theFaction?,"exerelinFormAllianceConfirm:Yes
exerelinMarketSpecial:No",
ExerelinFormAllianceConfirm,DialogOptionSelected,$option == exerelinFormAllianceConfirm,"FormAlliance $faction.id
FireAll ExerelinMarketSpecialInitialize",,,
ExerelinLeaveAlliance,DialogOptionSelected,$option == exerelinLeaveAlliance,,Are you sure you want your faction to leave alliance $_playerAllianceName?,"exerelinLeaveAllianceConfirm:Yes
exerelinMarketSpecial:No",
ExerelinLeaveAllianceConfirm,DialogOptionSelected,$option == exerelinLeaveAllianceConfirm,"LeaveAlliance
FireAll ExerelinMarketSpecialInitialize",,,
#END PLAYER FACTION ALLIANCE OPTIONS,,,,,,
,,,,,,
,,,,,,
#Must be after all other rules with that trigger,,,,,,
ExerelinBaseCommanderOptionsInitializationFinished,ExerelinBaseCommanderOptionsInitialize,,FireAll PopulateOptions,,,
ExerelinMarketSpecialInitializationFinished,ExerelinMarketSpecialInitialize,,FireAll ExerelinMarketSpecial,,,
,,,,,,
# not needed at present,,,,,,
#tOffPatrolOpenCommTOnPlayerNPC,OpenCommLink,"$entity.transponderOffConv score:100
$player.transponderOn
$faction.id == player_npc score:100","AddText ""\Don't screw around with your transponder in our space, damnit! Uh. Chief.\""""
$sawPlayerWithTOffCount = 0",,,
#tOffCargoScanPlayerNPC,DialogOptionSelected,"$option == tOff_scan_continue
$faction.id == player_npc score:100
!$faction.hostileToPlayer",$sawPlayerWithTOffCount = 0,"Moments later, $PersonRank $personName reappears, looking vaguely flustered and embarassed.

""Sorry, chief. Didn't recognize you with your transponder off. You can go, now.""",0:tOff_cleanCont1:Continue,
,,,,,,
,,,,,,
# START FACTION VENGEANCE DIALOG,,,,,,
greetingVengeanceMadStronger,OpenCommLink,"$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$playerName, $theFactionLong $factionIsOrAre not going to suffer you any longer.""
OR
""Your time has come, $playerName.""
OR
""$TheFactionLong sends their regards, $playerName.""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiant,OpenCommLink,"$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$playerName, $theFactionLong $factionIsOrAre not going to suffer you any longer.""
OR
""Your time has come, $playerName.""
OR
""$TheFactionLong sends their regards, $playerName.""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStronger,OpenCommLink,"$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$TheFactionLong signed your death warrant, $playerName. Prepare to die.""
OR
""This is the end for you, $playerName. $TheFactionLong wills it.""
OR
""We've come here to kill you, $playerName. Die in the name of $theFactionLong!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiant,OpenCommLink,"$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$TheFactionLong signed your death warrant, $playerName. Prepare to die.""
OR
""This is the end for you, $playerName. $TheFactionLong wills it.""
OR
""We've come here to kill you, $playerName. Die in the name of $theFactionLong!""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadStronger,OpenCommLink,"$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""There is no escape for you now, $playerName. $TheFactionLong will hunt you to the ends of the sector!""
OR
""It's over! You die here, $playerName. $TheFactionLong will never give up!""
OR
""$playerName, on behalf of $theFactionLong, I hereby sentence you to death. Your execution shall be summary!""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadWeakerDefiant,OpenCommLink,"$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""There is no escape for you now, $playerName. $TheFactionLong will hunt you to the ends of the sector!""
OR
""It's over! You die here, $playerName. $TheFactionLong will never give up!""
OR
""$playerName, on behalf of $theFactionLong, I hereby sentence you to death. Your execution shall be summary!""",cutCommLink:Cut the comm link,
greetingVengeanceMadStrongerPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You've made some powerful enemies, $playerName. This is goodbye.""
OR
""This is the end for you!""
OR
""When I'm through with you, $playerName, you'll wish you had never been born!""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiantPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You've made some powerful enemies, $playerName. This is goodbye.""
OR
""This is the end for you!""
OR
""When I'm through with you, $playerName, you'll wish you had never been born!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStrongerPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength >= 0
$entity.escalation >= 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""The Boss sends his regards, you son of a bitch!""
OR
""You've crossed us for the last time. Time to die!""
OR
""We'll see you in Hell, $playerName!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiantPirates,OpenCommLink,"$faction.id == pirates
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation >= 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""The Boss sends his regards, you son of a bitch!""
OR
""You've crossed us for the last time. Time to die!""
OR
""We'll see you in Hell, $playerName!""",cutCommLink:Cut the comm link,
greetingVengeanceMadStrongerCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Heresy of this magnitude is answerable with death. Farewell!""
OR
""Hahahahaha! Die!""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiantCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Heresy of this magnitude is answerable with death. Farewell!""
OR
""Hahahahaha! Die!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStrongerCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength >= 0
$entity.escalation >= 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$TheFactionLong is here to take your head, $playerName. There is no escape!""
OR
""I'll kill you! I'll kill you to DEATH!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiantCabal,OpenCommLink,"$faction.id == cabal
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation >= 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$TheFactionLong is here to take your head, $playerName. There is no escape!""
OR
""I'll kill you! I'll kill you to DEATH!""",cutCommLink:Cut the comm link,
greetingVengeanceMadStrongerLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$TheFactionLong has not forgotten your sins, $playerName. Prepare to be destroyed!""
OR
""Prepare for death, blasphemer!""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiantLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""$TheFactionLong has not forgotten your sins, $playerName. Prepare to be destroyed!""
OR
""Prepare for death, blasphemer!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStrongerLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You are past redemption! The inquisition has come for you, heretic.""
OR
""Be banished to the pit you came from, spawn of Mammon!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiantLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You are past redemption! The inquisition has come for you, heretic.""
OR
""Be banished to the pit you came from, spawn of Mammon!""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadStrongerLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Burn in Hell, demon! The followers of Ludd shall strike you down!""
OR
""Your Faustian schemes end here.""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadWeakerDefiantLuddicChurch,OpenCommLink,"$faction.id == luddic_church
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Burn in Hell, demon! The followers of Ludd shall strike you down!""
OR
""Your Faustian schemes end here.""",cutCommLink:Cut the comm link,
greetingVengeanceMadStrongerAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You've made some powerful enemies, $playerName. This is goodbye.""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiantAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You've made some powerful enemies, $playerName. This is goodbye.""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStrongerAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""We're going to make an example of you, $playerName; don't fuck with $theFactionLong!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiantAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""We're going to make an example of you, $playerName; don't fuck with $theFactionLong!""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadStrongerAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""The Associates have deemed you unworthy of life. Your pain shall be legendary!""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadWeakerDefiantAhriman,OpenCommLink,"$faction.id == exipirated
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""The Associates have deemed you unworthy of life. Your pain shall be legendary!""",cutCommLink:Cut the comm link,
greetingVengeanceMadStrongerTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Your life ends now, blasphemer.""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiantTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Your life ends now, blasphemer.""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStrongerTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Heretic, you have been chosen for destruction. Die in the name of $theFactionLong!""
OR
""Be cleansed from the holy stars, foul creature!""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiantTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""Heretic, you have been chosen for destruction. Die in the name of $theFactionLong!""
OR
""Be cleansed from the holy stars, foul creature!""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadStrongerTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"The $faction $personRank stares you down, completely silent as $hisOrHer $otherShipOrFleet prepares to annihilate you.",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadWeakerDefiantTemplars,OpenCommLink,"$faction.id == templars
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"The $faction $personRank stares you down, completely silent as $hisOrHer $otherShipOrFleet prepares to annihilate you.",cutCommLink:Cut the comm link,
greetingVengeanceMadStrongerExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength >= 0
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You are a navigational hazard. Perish.""",cutCommLink:Cut the comm link,
greetingVengeanceMadWeakerDefiantExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 0
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""You are a navigational hazard. Perish.""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadStrongerExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength >= 0
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""By order of $theFactionLong, you are hereby stripped of your right to live.""",cutCommLink:Cut the comm link,
greetingVengeanceRavingMadWeakerDefiantExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 1
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""By order of $theFactionLong, you are hereby stripped of your right to live.""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadStrongerExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength >= 0
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""We have researched you, $playerName. Your weaknesses are analyzed and your advantages nullified. Prepare for termination.""",cutCommLink:Cut the comm link,
greetingVengeanceStarkRavingMadWeakerDefiantExigency,OpenCommLink,"$faction.id == exigency
$entity.relativeStrength < 0
$entity.weakerThanPlayerButHolding
$entity.escalation == 2
$entity.fleetType == vengeanceFleet score:100",$entity.ignorePlayerCommRequests = true 1,"""We have researched you, $playerName. Your weaknesses are analyzed and your advantages nullified. Prepare for termination.""",cutCommLink:Cut the comm link,
# END FACTION VENGEANCE DIALOG,,,,,,
,,,,,,
,,,,,,
# bla,,,,,,
ExerelinFlavorTextMarketOmnifactory,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$tag:omnifactory","AddText ""The Omnifactory's main loading bay is a dark, brooding chamber gaping cavernously around stacks of replicated items - clearly, the maintaining AI lacks the cleanliness sensibility of the average human. Loading bots shuffle about with large crates in hand as nano-fabricators hum in the distance."" textGrayColor",,,
ExerelinFlavorTextMarketPrismFreeport,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$market.id == nex_prismFreeport","AddText ""Bright, slick, overusing chrome and opal ornaments, the concourse is quite the unusual sight for a station lost in hyperspace. Wherever the eye looks, every detail spells luxury. On the sides, behind extravagant transparent promenades, the source of all this wealth is offered to the observation of all potential buyers: the menacing and yet reassuring silhouettes of ships from all origins, all pristine looking and advantageously lit. A bit further it's the weapons that are exposed in the same fashion. Holo displays and simulators are available everywhere to help clients to find the perfect tool to fit their needs."" textGrayColor",,,
ExerelinFlavorTextMarketFollowers,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$faction.id == ""player_npc""","AddText ""The port concourse is filled with trader starcraft of every size. Speculators crowd offloading ship captains with deals and peddlers call out to crew, holding wares and projecting personal ad-holos. Guards salute you in recognition as you pass by them."" textGrayColor",,,
ExerelinMarketOptionIntel,DialogOptionSelected,$option == exerelinMarketIntel,OpenCoreTab INTEL $tradeMode,,,
ExerelinMarketOptionAlliances,DialogOptionSelected,$option == exerelinAllianceReport,PrintAlliances,,,
#ExerelinPostOpenMarketPrismHostile,MarketPostOpen,"$hasMarket
$market.id == prismFreeport score:100
RepIsAtBest $faction.id INHOSPITABLE","$menuState = main 0
$tradeMode = OPEN 0
FireAll PopulateOptions","While $theFactionLong $factionIsOrAre generally $relAdjective towards you, the Prism Freeport itself takes no sides. The port authority grants you docking clearance after only a slight delay.",,
,,,,,,
#ExerelinPrintFleetFactionRel,BeginFleetEncounter,,Exerelin_PrintFleetFactionRelationship,,,
,,,,,,
# vanilla overrides,,,,,,
#marketPostOpenInhospitable,MarketPostOpen,"$hasMarket
RepIsAtBest $faction.id INHOSPITABLE
!IsPirateFaction $faction.id","FireBest PickSneakType
FireAll PopulateOptions","$TheFactionLong $factionIsOrAre $relAdjective towards you, and the port authority refuses your request for docking clearance.",,
#marketPostOpenInhospitablePirates,MarketPostOpen,"$hasMarket
RepIsAtBest $faction.id VENGEFUL
IsPirateFaction $faction.id","FireBest PickSneakType
FireAll PopulateOptions","You're rather well known among $theFactionLong, and not for the right reasons, as far as they're concerned.",,
#marketPostOpenPiratesHostile,MarketPostOpen,"$hasMarket
IsPirateFaction $faction.id
RepIsAtBest $faction.id INHOSPITABLE
RepIsAtWorst $faction.id HOSTILE","$menuState = main 0
$tradeMode = OPEN 0
FireAll PopulateOptions","While $theFactionLong are generally $relAdjective towards you, that's not all that different from how they see other rival captains. The port authority, such as it is, grants you docking clearance after only a slight delay.",,
,,,,,,
commRelayOpen,OpenInteractionDialog,"$tag:comm_relay
!$hasMarket","ExerelinShowDefaultVisual
FireBest InitCommRelayDialog",,,
commRelayAddOptionInstallSniffer,PopulateOptions,"$tag:comm_relay
!$hasMarket
$menuState == main
!$commSnifferInstalled",,,0:csInstall:Install a comm sniffer,
commRelaySaySnifferRunning,PopulateOptions,"$tag:comm_relay
!$hasMarket
$menuState == main
$commSnifferInstalled
!$saidCommSnifferRunning",$saidCommSnifferRunning = true 0,You've got a comm sniffer running on this relay.,,
commRelayAddOptionUninstallSniffer,PopulateOptions,"$tag:comm_relay
!$hasMarket
$menuState == main
$commSnifferInstalled",,,0:csUninstall:Uninstall the comm sniffer,
,,,,,,
commRelayAddOptionLeave,PopulateOptions,"$tag:comm_relay
!$hasMarket
$menuState == main","SetShortcut crLeave ""ESCAPE""",,100:crLeave:Leave,
,,,,,,
dialogHegRelayInterference_openWarnedBefore,OpenCommLink,"$entity.respondingToCommRelayInterference score:100
$entity.timesSawPlayerInterferingWithRelay > 1","$entity.ignorePlayerCommRequests = true 1
$entity.exerelinFleetAggressAgainstPlayer = true 1","""I've already told you not to mess with $faction hardware. Maybe this'll reinforce the message.""

The comm link is cut before you can begin to respond.",continueCutComm:Continue,
dialogHegRelayInterference_cut_1,DialogOptionSelected,"$entity.respondingToCommRelayInterference score:100
!$playerAcknowledgedRelayInterferenceWarning
$option == cutCommLink","$entity.ignorePlayerCommRequests = true 1
$entity.exerelinFleetAggressAgainstPlayer = true 1
unset $entity.respondingToCommRelayInterference
unset $entity.core_fleetBusy
MakeOtherFleetHostile sniffer true
ShowDefaultVisual
EndConversation","You cut the comm link without acknowledging $PersonRank $personName's words. As $hisOrHer $otherShipOrFleet maintains an aggressive posture, that may not have been the best means of obtaining a peaceful resolution.",,
,,,,,,
tOffCargoScanHostile,DialogOptionSelected,"$option == tOff_scan_continue
$entity.isHostile","ShowDefaultVisual
EndConversation
$entity.exerelinFleetAggressAgainstPlayer = true 1","However, instead of proceeding with the scan, the $faction $fleetName shuts down comms and powers up combat systems.",,
tOffPatrolOpenCommNotFirstTime,OpenCommLink,"$entity.transponderOffConv score:100
$entity.sawPlayerWithTOffCount == 2.0 score:10
$entity.relativeStrength >= 0","AddText""\""I told you last time to keep your transponder on.\""""
AdjustRep $faction.id TRANSPONDER_OFF
AdjustRepActivePerson TRANSPONDER_OFF
AddText ""The comm link is cut before you have a chance to respond.""
$entity.ignorePlayerCommRequests = true 0
$entity.exerelinFleetAggressAgainstPlayer = true 1
unset $entity.transponderOffConv",,0:tOff_notFirstTimeCont:Continue,
tOffRefuse,DialogOptionSelected,$option == tOff_refuse,"$entity.ignorePlayerCommRequests = true 0
$entity.exerelinFleetAggressAgainstPlayer = true 1
unset $entity.transponderOffConv
AdjustRep $faction.id TRANSPONDER_OFF_REFUSE
AdjustRepActivePerson TRANSPONDER_OFF_REFUSE
MakeHostileWhileTOff tOff true 7
ShowDefaultVisual
EndConversation",,,
,,,,,,
cargoScanInitialFollowers,BeginFleetEncounter,"!$cargoScan_didAlready
$pursuePlayer_smugglingScan score:50
$faction.id == player_npc score:20","unset $ignorePlayerCommRequests
$cargoScanConv = true 0
$cargoScan_didAlready = true 0
$entity.smugglingScanComplete = true 1
unset $entity.pursuePlayer_smugglingScan
AddText ""The $faction $otherShipOrFleet looks like it wants to scan you, but doesn't."" $faction.baseColor
AddText ""You're being hailed by the $faction $otherShipOrFleet."" $faction.baseColor
OpenComms",,,
cargoScanFirstCommsFollowers,OpenCommLink,"$entity.cargoScanConv score:100
$faction.id == player_npc score:50",,"""We've received complaints of smuggling activity around these parts. Now I know there's no way you'd have anything to do with it, but discretion would be helpful. Appearances have to be maintained, you know.""
OR
""Damn it, chief, could you try to be a little more subtle? We're under a lot of pressure to deal with the smuggling around here, and we don't need to attract attention where we'd rather not people start looking.""",0:cargoScan_cleanCont:Continue,
cargoScanRefuse,DialogOptionSelected,$option == cargoScan_refuse,"$entity.ignorePlayerCommRequests = true 0
unset $entity.cargoScanConv
unset $entity.pursuePlayer_smugglingScan
$entity.smugglingScanComplete = true 1
$entity.exerelinFleetAggressAgainstPlayer = true 1
AdjustRep $faction.id CARGO_SCAN_REFUSE
AdjustRepActivePerson CARGO_SCAN_REFUSE
ShowDefaultVisual
EndConversation",,,
,,,,,,
customsInspectionDisagree,DialogOptionSelected,"$doingCustomsInspection score:100
$option == ciDisagree","AdjustRep $faction.id CUSTOMS_REFUSED_TOLL
$ignorePlayerCommRequests = true 1
$exerelinFleetAggressAgainstPlayer = true 1
#MakeNearbyFleetsHostile $faction.id 2000 10
EndConversation","""Oh? That's something you're going to regret.""

The comm link is cut before you have a chance to respond.",,
customsInspectionEndingHostile,CustomsInspectionEndHostile,,"unset $doingCustomsInspection
$exerelinFleetAggressAgainstPlayer = true 1
$ignorePlayerCommRequests = true 1
EndConversation",,,
,,,,,,
#Templar overrides,,,,,,
ExerelinMarketPostOpenTemplars,MarketPostOpen,"!$doesFakeVariableExist score:999
$hasMarket
$faction.id == templars score:1000
RepIsAtWorst $faction.id WELCOMING","$menuState = main 0
$tradeMode = OPEN 0
FireAll PopulateOptions",,,
ExerelinMarketPostOpenTemplarsHostile,MarketPostOpen,"!$doesFakeVariableExist score:999
$hasMarket
$faction.id == templars score:1000
RepIsAtBest $faction.id SUSPICIOUS
$market.id != tem_ascalon","$marketLeaveTooltip = ""$TheFaction do not trade with outsiders."" 0
$menuState = main 0
$tradeMode = NONE 0
FireAll PopulateOptions","The only communication you can get from the port is: ""Begone from this holy land, heathen. Thy cleansing shall yet come.""",,
ExerelinMarketPostOpenTemplarsUntrustworthy,MarketPostOpen,"!$doesFakeVariableExist score:999
$hasMarket
$faction.id == templars score:1000
RepIsAtBest $faction.id FAVORABLE
RepIsAtWorst $faction.id NEUTRAL","$marketLeaveTooltip = ""$TheFaction does not trust you enough."" 0
$menuState = main 0
$tradeMode = NONE 0
FireAll PopulateOptions","While $theFaction $factionIsOrAre $relAdjective towards you, they do not trust you enough to grant you docking access at $market. You are issued a stern order to leave the system.",,
ExerelinMarketPostOpenTemplarsHostileAscalon,MarketPostOpen,"!$doesFakeVariableExist score:999
$hasMarket
$faction.id == templars score:1000
RepIsAtBest $faction.id SUSPICIOUS
$market.id == tem_ascalon","$marketLeaveTooltip = ""$TheFaction do not trade with outsiders."" 0
$menuState = main 0
$tradeMode = NONE 0
FireAll PopulateOptions","Your scanners pick up a massive energy signature manifesting on $entityName, followed by a high-power burst transmission from below: ""Come no further, lest the light of judgment be called upon you to ascend thy soul, in flames, to the great star above.""",,
,,,,,,
# Tiandong overrides,,,,,,
ExerelinTiandongSetExteriorImageShanghai,PopulateOptions,"$hasMarket
$tag:shanghaiStation","ShowVisual ""graphics/illustrations/vacuum_colony.jpg""",,,
ExerelinFlavorTextMarketTiandongShanghai,TradePanelFlavorText,"$global.tradePanelMode == MARKET
$faction.id == tiandong
$tag:shanghai","AddText ""Posh olive-green pillows and scented candles greet you as you enter the grand lobby, a vast entry area for the myriad travellers who journey to Shanghai. A hundred-meter-tall holographic map of the station hovers overhead, illuminating the area in warm light. Ahead, a wide hallway leads to the primary trade center."" textGrayColor
AddText ""The hallway opens to a large, open bazaar. While the structure is clearly a large warehouse being used as a flea market, in truth it resembles a small city. Market stalls of every shape and size, trading venues, infotainment booths, concession stands, and even a brothel is littered throughout, creating a haphazard series of streets and alleys. Armed Tiandong agents patrol the makeshift roads, breaking up fights and helping the occasional lost quartermaster."" textGrayColor",,,
